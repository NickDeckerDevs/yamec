!function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({"./src/js/editor.js":[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},o=function(e){return e&&(e["default"]||e)},i=o(e("./helpers")),r=o(e("./selection")),s=o(e("./editor-toolbar")),l=function(){function e(t){return"string"==typeof t&&(t=document.querySelectorAll(t)),i.isElement(t)?(this.dom=t,this.dom.setAttribute("contentEditable",!0),this.selection=new r,this.toolbars={},this.commands={},this.events={},void this.initToolbar().addEvents()):i.slice.call(t).map(function(t){return new e(t)})}return n(e,null,{getContext:{value:function(){for(var e=this.selection.range.commonAncestorContainer;1!==e.nodeType;)e=e.parentNode;return e},writable:!0,enumerable:!0,configurable:!0},registerCommand:{value:function(e){if("string"==typeof e){var t=e,n=arguments[1];(e={})[t]=n}for(var o,r=i.keys(e)[Symbol.iterator]();!(o=r.next()).done;){var t=o.value;this.commands[t]=this.commands[t]||[],this.commands[t].push(e[t])}},writable:!0,enumerable:!0,configurable:!0},unregisterCommand:{value:function(e,t){var n,o;(n=this.commands[e])&&(void 0===t?delete this.commands[e]:-1!==(o=n.indexOf(t))&&(n.splice(o,1),0===n.length&&delete this.commands[e]))},writable:!0,enumerable:!0,configurable:!0},execCommand:{value:function(e,t,n){var o=this;this.selection.restore(),i.defer(function(){if(o.commands[e])for(var i,r=o.commands[e][Symbol.iterator]();!(i=r.next()).done;){var s=i.value;s.apply(o,[t,e])}else document.execCommand(e,!1,t);n&&o.selection.collapseToEnd(),o.trigger("toolbar:inline")})},writable:!0,enumerable:!0,configurable:!0},on:{value:function(e,t){var n=this;e=e.split(" "),"string"==typeof t&&!function(){var e=t;t=function(){return n.trigger(e)}}();for(var o,i=e[Symbol.iterator]();!(o=i.next()).done;){var r=o.value;this.events[r]=this.events[r]||[],this.events[r].push(t)}return this},writable:!0,enumerable:!0,configurable:!0},off:{value:function(e,t){var n,o;e=e.split(" ");for(var i,r=e[Symbol.iterator]();!(i=r.next()).done;){var s=i.value;(n=this.events[s])&&(void 0===t?delete this.events[s]:-1!==(o=n.indexOf(t))&&(n.splice(o,1),0===n.length&&delete this.events[s]))}return this},writable:!0,enumerable:!0,configurable:!0},trigger:{value:function(e){var t,n,o=this,r=i.slice(arguments,1);if((t=/^toolbar:(.*)$/.exec(e))&&r.unshift(this.toolbars[t[1]]),n=this.events[e])for(var s,l=n[Symbol.iterator]();!(s=l.next()).done;)!function(){var e=s.value;i.defer(function(){return e.apply(o,r)})}();return this},writable:!0,enumerable:!0,configurable:!0},addEvents:{value:function(){for(var e,t=this,n=function(e){t.trigger(e.type,e)},o=["mouseup","mousedown","click","mouseover","mouseout","keyup","keydown","keypress","focus","blur"],i=o[Symbol.iterator]();!(e=i.next()).done;){var r=e.value;this.dom.addEventListener(r,n)}return this.on("mouseup keyup","toolbar:inline"),this},writable:!0,enumerable:!0,configurable:!0},addToolbar:{value:function(e,t,n){this.toolbars[e]=t,this.on("toolbar:"+e,n)},writable:!0,enumerable:!0,configurable:!0},detachToolbar:{value:function(e){var t=this.toolbars[e];return t&&(delete this.toolbars[e],this.off("toolbar:"+e)),t},writable:!0,enumerable:!0,configurable:!0},getToolbar:{value:function(e){return this.toolbars[e]},writable:!0,enumerable:!0,configurable:!0},initToolbar:{value:function(){var e=this;this.registerCommand({toggleLink:function(){var e,t=this;(e=this.selection.isWithin("a"))?(e.forEach(i.unwrap),this.selection.restore()):this.selection.contains("a")?this.execCommand("unlink"):this.getToolbar("inline").toggleInput("http://...",function(e){t.execCommand("createLink",e,!!e)})},toggleBlock:function(e){this.selection.isWithin(e)?this.execCommand("formatBlock","p"):this.execCommand("formatBlock",e)},toggleTag:function(e){var t;if(t=this.selection.isWithin(e))t.forEach(i.unwrap),this.selection.restore();else if(this.selection.contains(e)){var n=new RegExp("<"+e+"(.*?)>|</"+e+">","g");this.selection.replace(this.selection.html.replace(n,""))}else this.selection.replace("<"+e+">"+this.selection.html+"</"+e+">")}});var t=function(t,n){return function(){return e.execCommand(t,n)}},n=function(t){return function(){return"boolean"==typeof t?t:/^(a|code)$/.test(t)?e.selection.contains(t)||e.selection.isWithin(t):/^(h(2|3)|blockquote)$/.test(t)?e.selection.isWithin(t):document.queryCommandState(t)}},o=new s({onInputCancel:function(){e.selection.restore()},buttons:[{content:"B",action:t("bold"),active:n("bold")},{content:"I",action:t("italic"),active:n("italic")},{content:"A",action:t("toggleLink"),active:n("a")},{content:"H1",action:t("toggleBlock","h2"),active:n("h2")},{content:"H2",action:t("toggleBlock","h3"),active:n("h3")},{content:'"',action:t("toggleBlock","blockquote"),active:n("blockquote")},{content:"&lt;/&gt;",action:t("toggleTag","code"),active:n("code")}]});return this.addToolbar("inline",o,function(t){var n,o,r,s={};return e.selection.save(),e.selection.isCollapsed?void t.hide():(n=e.selection.getRangeBoundary(),s.x=(n.left+n.right)/2,s.y=window.pageYOffset,t.dom.style.display="block",o=t.dom.offsetHeight,r=t.dom.offsetWidth/2,t.dom.style.display="",n.top<o?(t.position("bottom"),s.y+=n.bottom):(t.position("top"),s.y+=n.top),s.x<r?s.x+=r-s.x:window.innerWidth-i.scrollbarWidth()-s.x<r&&(s.x-=r-(window.innerWidth-s.x-i.scrollbarWidth())),void t.show(s.x,s.y))}),this},writable:!0,enumerable:!0,configurable:!0}}),e}();window.Editor=l,t.exports=l},{"./editor-toolbar":"/Users/wilwilsman/Documents/Projects/Editor/src/js/editor-toolbar.js","./helpers":"/Users/wilwilsman/Documents/Projects/Editor/src/js/helpers.js","./selection":"/Users/wilwilsman/Documents/Projects/Editor/src/js/selection.js"}],"/Users/wilwilsman/Documents/Projects/Editor/src/js/editor-toolbar.js":[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},o=function(e){return e&&(e["default"]||e)},i=o(e("./helpers")),r=/(?:^|\s)(pm--(top|bottom|left|right))(?:\s|$)/,s=function(){function e(){var e=void 0===arguments[0]?{}:arguments[0];this.buttons=e.buttons||{},document.body.appendChild(this.build()),this.position(e.position||"top"),this.cancelInput=e.onInputCancel||i.noop,this.hide()}return n(e,null,{show:{value:function(e,t){var n=this;return this.dom.style.display="",this.dom.style.top=t+"px",this.dom.style.left=e+"px",i.defer(function(){return n.dom.classList.add("pm--show")}),this.buttons.forEach(function(e){return e.toggle()}),this},writable:!0,enumerable:!0,configurable:!0},hide:{value:function(){return this.dom.style.display="none",this.dom.style.top=this.dom.style.left="",this.dom.classList.remove("pm--show"),this.toggleInput(!1),this},writable:!0,enumerable:!0,configurable:!0},visible:{get:function(){return this.dom.classList.contains("pm--show")},enumerable:!0,configurable:!0},toggleInput:{value:function(e,t,n,o){var r=this,s=this.dom.firstChild.lastChild,l="block"===s.style.display,a=arguments[arguments.length-1];if(o="boolean"==typeof a?a:void 0,n="function"==typeof t?t:n,n="function"==typeof n?n:void 0,e="string"==typeof e?e:"",t="string"==typeof t?t:"",/left|right/.test(this.position())&&(o=!1),l=void 0===o?l:!o,s.firstChild.setAttribute("placeholder",e),s.firstChild.value=t,l)s.style.display="",s.firstChild.value="",this.inputCallback=i.noop,this.dom.style.width="",this.dom.classList.remove("pm--input");else{this.inputCallback=n||i.noop,this.dom.style.width=this.dom.offsetWidth+"px",s.style.display="block";var c=this.dom.offsetWidth<s.offsetWidth;this.dom.style.width=c?s.offsetWidth+"px":"",i.defer(function(){return r.dom.classList.add("pm--input")})}},writable:!0,enumerable:!0,configurable:!0},position:{value:function(e){var t=r.exec(this.dom.className);return void 0===e?t[2]||null:/top|bottom|left|right/.test(e)?(t&&this.dom.classList.remove(t[1]),this.dom.classList.add("pm--"+e),/left|right/.test(e)&&this.toggleInput(!1),this):!1},writable:!0,enumerable:!0,configurable:!0},build:{value:function(){var e=this,t=document.createElement("div");t.className="pm",t.appendChild(document.createElement("ul")),this.buttons.forEach(function(n,o,i){var r=document.createElement("button");r.setAttribute("type","button"),r.className="pm__btn",0===o?r.classList.add("pm__btn--first"):o===i.length-1&&r.classList.add("pm__btn--last"),r.classList.add(n.className),r.innerHTML=n.content,r.addEventListener("click",n.action.bind(e)),n.element=t.firstChild.appendChild(document.createElement("li")).appendChild(r),n.toggle=function(){r.classList.toggle("active",n.active())}});var n=t.firstChild.appendChild(document.createElement("li")).appendChild(document.createElement("input"));return n.className="pm__control",this.inputCallback=i.noop,n.addEventListener("keyup",function(t){13===(t.which||t.keyCode)&&(e.inputCallback(n.value),e.toggleInput(!1))}),n.parentNode.addEventListener("transitionend",function(){return n.focus()}),n.parentNode.appendChild(document.createElement("div")).className="pm__cancel",n.nextElementSibling.addEventListener("click",function(){e.toggleInput(!1),e.cancelInput()}),this.dom=t},writable:!0,enumerable:!0,configurable:!0}}),e}();t.exports=s},{"./helpers":"/Users/wilwilsman/Documents/Projects/Editor/src/js/helpers.js"}],"/Users/wilwilsman/Documents/Projects/Editor/src/js/helpers.js":[function(e,t){"use strict";var n,o={slice:Array.prototype.slice,keys:Object.keys,isElement:function(e){return!(!e||1!==e.nodeType)},toHTML:function(e){var t,n=document.createElement("div");e=e.length?o.slice.call(e):[e];for(var i,r=e[Symbol.iterator]();!(i=r.next()).done;){var s=i.value;n.appendChild(s)}return t=n.innerHTML,n=null,t},unwrap:function(e){for(var t,n=e.parentNode,o=document.createDocumentFragment();t=e.firstChild;)o.appendChild(t);return n.insertBefore(o,e),n.removeChild(e),o},closest:function(e,t){for(var n;n=e.parentNode;)if(n===t)return n},getTextNodes:function(e){var t=[];if(3===e.nodeType)t.push(e);else for(var n,i=o.slice.call(e.childNodes),r=i[Symbol.iterator]();!(n=r.next()).done;){var s=n.value;t.push.apply(t,o.getTextNodes(s))}return t},scrollbarWidth:function(){if(n)return n;var e,t,o=document.createElement("div"),i=o.cloneNode();return o.style.visibility="hidden",o.style.width="100px",document.body.appendChild(o),e=o.offsetWidth,o.style.overflow="scroll",i.style.width="100%",o.appendChild(i),t=i.offsetWidth,o.parentNode.removeChild(o),n=e-t},noop:function(){},now:Date.now,delay:function(e,t){var n=o.slice.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},defer:function(e){return o.delay.apply(o,[e,1].concat(o.slice.call(arguments,1)))}};t.exports=o},{}],"/Users/wilwilsman/Documents/Projects/Editor/src/js/selection.js":[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},o=function(e){return e&&(e["default"]||e)},i=o(e("./helpers")),r=function(){function e(){return this.constructor.instance?this.constructor.instance:void(this.constructor.instance=this)}return n(e,null,{get:{value:function(){return window.getSelection()},writable:!0,enumerable:!0,configurable:!0},save:{value:function(){var e=[],t=this.range;e[0]=t.commonAncestorContainer,e[2]=this.getCaretOffset(e[0]),e[1]=e[2]-t.toString().length,this.saved=e},writable:!0,enumerable:!0,configurable:!0},restore:{value:function(){this.select.apply(this,this.saved)},writable:!0,enumerable:!0,configurable:!0},getRangeBoundary:{value:function(){return this.range.getBoundingClientRect()},writable:!0,enumerable:!0,configurable:!0},collapseToEnd:{value:function(){this.get().collapseToEnd()},writable:!0,enumerable:!0,configurable:!0},select:{value:function(e,t,n){var o=this.get(),r=document.createRange();if(r.selectNode(e),void 0!==t&&void 0!==n)for(var s,l=i.getTextNodes(e),a=!1,c=0,u=void 0,d=l[Symbol.iterator]();!(s=d.next()).done;){var f=s.value;if(u=c+f.length,!a&&t>=c&&(u>t||t===u)&&(r.setStart(f,t-c),a=!0),a&&u>=n){r.setEnd(f,n-c);break}c=u}o.removeAllRanges(),o.addRange(r)},writable:!0,enumerable:!0,configurable:!0},replace:{value:function(e){var t,n,o=this.get(),i=this.range,r=i.cloneRange(),s=document.createElement("div"),l=document.createDocumentFragment();for(s.innerHTML=e;t=s.firstChild;)n=l.appendChild(t);i.deleteContents(),i.insertNode(l),n&&(r.setEndAfter(n),o.removeAllRanges(),o.addRange(r))},writable:!0,enumerable:!0,configurable:!0},getCaretOffset:{value:function(e){var t=this.range,n=t.cloneRange();return n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),n.toString().length},writable:!0,enumerable:!0,configurable:!0},contains:{value:function(e){var t=new RegExp("<"+e+"(.*?)>|</"+e+">");return t.test(this.html)},writable:!0,enumerable:!0,configurable:!0},isWithin:{value:function(e,t){var n=[],o=this.range,i=o.startContainer.parentNode,r=o.endContainer.parentNode,s=o.commonAncestorContainer;if(e=e.toUpperCase(),i.tagName===e&&n.push(i),r!==i&&r.tagName===e&&n.push(r),n.length>0)return n;for(t=void 0===t?document.body:t;s&&s!==t;){if(s.tagName&&s.tagName===e)return n.push(s),n;s=s.parentNode}return!1},writable:!0,enumerable:!0,configurable:!0},html:{get:function(){return i.toHTML(this.range.cloneContents())},enumerable:!0,configurable:!0},isCollapsed:{get:function(){return this.get().isCollapsed},enumerable:!0,configurable:!0},range:{get:function(){return this.get().getRangeAt(0)},enumerable:!0,configurable:!0}}),e}();t.exports=r},{"./helpers":"/Users/wilwilsman/Documents/Projects/Editor/src/js/helpers.js"}]},{},["./src/js/editor.js"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJlZGl0b3IuanMiLCJzcmMvanMvZWRpdG9yLmpzIiwic3JjL2pzL2VkaXRvci10b29sYmFyLmpzIiwic3JjL2pzL2hlbHBlcnMuanMiLCJzcmMvanMvc2VsZWN0aW9uLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiLi9zcmMvanMvZWRpdG9yLmpzIiwibW9kdWxlIiwiX3Byb3RvdHlwZVByb3BlcnRpZXMiLCJjaGlsZCIsInN0YXRpY1Byb3BzIiwiaW5zdGFuY2VQcm9wcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJwcm90b3R5cGUiLCJfaW50ZXJvcFJlcXVpcmUiLCJvYmoiLCJfIiwiU2VsZWN0aW9uIiwiRWRpdG9yVG9vbGJhciIsIkVkaXRvciIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNFbGVtZW50IiwidGhpcyIsImRvbSIsInNldEF0dHJpYnV0ZSIsInNlbGVjdGlvbiIsInRvb2xiYXJzIiwiY29tbWFuZHMiLCJldmVudHMiLCJpbml0VG9vbGJhciIsImFkZEV2ZW50cyIsInNsaWNlIiwibWFwIiwiZ2V0Q29udGV4dCIsInZhbHVlIiwiY3R4RWxlbWVudCIsInJhbmdlIiwiY29tbW9uQW5jZXN0b3JDb250YWluZXIiLCJub2RlVHlwZSIsInBhcmVudE5vZGUiLCJ3cml0YWJsZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJyZWdpc3RlckNvbW1hbmQiLCJjbWRzIiwiY21kIiwiZnVuYyIsImFyZ3VtZW50cyIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwia2V5cyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidW5yZWdpc3RlckNvbW1hbmQiLCJpbmRleCIsInVuZGVmaW5lZCIsImluZGV4T2YiLCJzcGxpY2UiLCJleGVjQ29tbWFuZCIsImNvbGxhcHNlIiwiX3RoaXMiLCJyZXN0b3JlIiwiZGVmZXIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiYXBwbHkiLCJjb2xsYXBzZVRvRW5kIiwidHJpZ2dlciIsIm9uIiwibmFtZXMiLCJfdGhpczIiLCJzcGxpdCIsInRyaWdnZXJOYW1lIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsIm5hbWUiLCJvZmYiLCJmdW5jcyIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJtIiwiX3RoaXMzIiwiYXJncyIsImV4ZWMiLCJ1bnNoaWZ0IiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsIl9zdGVwNiIsIl90aGlzNCIsImZpcmVFdmVudCIsImV2ZW50IiwidHlwZSIsImRvbUV2ZW50cyIsIl9pdGVyYXRvcjYiLCJldnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkVG9vbGJhciIsInRvb2xiYXIiLCJ0b2dnbGUiLCJkZXRhY2hUb29sYmFyIiwiZ2V0VG9vbGJhciIsIl90aGlzNSIsInRvZ2dsZUxpbmsiLCJlbHMiLCJfdGhpczYiLCJpc1dpdGhpbiIsImZvckVhY2giLCJ1bndyYXAiLCJjb250YWlucyIsInRvZ2dsZUlucHV0IiwidG9nZ2xlQmxvY2siLCJ0YWdOYW1lIiwidG9nZ2xlVGFnIiwicmVnIiwiUmVnRXhwIiwicmVwbGFjZSIsImh0bWwiLCJjb21tYW5kV3JhcHBlciIsInF1ZXJ5V3JhcHBlciIsInF1ZXJ5IiwidGVzdCIsInF1ZXJ5Q29tbWFuZFN0YXRlIiwib25JbnB1dENhbmNlbCIsImJ1dHRvbnMiLCJjb250ZW50IiwiYWN0aW9uIiwiYWN0aXZlIiwiYm91bmRhcnkiLCJ0b29sYmFySGVpZ2h0IiwidG9vbGJhckhhbGZXaWR0aCIsInBvaW50Iiwic2F2ZSIsImlzQ29sbGFwc2VkIiwiaGlkZSIsImdldFJhbmdlQm91bmRhcnkiLCJ4IiwibGVmdCIsInJpZ2h0IiwieSIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0Iiwic3R5bGUiLCJkaXNwbGF5Iiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJ0b3AiLCJwb3NpdGlvbiIsImJvdHRvbSIsImlubmVyV2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsInNob3ciLCIuL2VkaXRvci10b29sYmFyIiwiLi9oZWxwZXJzIiwiLi9zZWxlY3Rpb24iLCIvVXNlcnMvd2lsd2lsc21hbi9Eb2N1bWVudHMvUHJvamVjdHMvRWRpdG9yL3NyYy9qcy9lZGl0b3ItdG9vbGJhci5qcyIsIkRJUlJFRyIsIm9wdHMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJidWlsZCIsImNhbmNlbElucHV0Iiwibm9vcCIsImNsYXNzTGlzdCIsImFkZCIsImJ0biIsInJlbW92ZSIsInZpc2libGUiLCJnZXQiLCJwbGFjZWhvbGRlciIsImNhbGxiYWNrIiwiZm9yY2UiLCJjdHJsIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsImxhc3RBcmciLCJpbnB1dENhbGxiYWNrIiwid2lkdGgiLCJiaWdnZXJJbnB1dCIsImRpciIsIm9sZGRpciIsImNsYXNzTmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJidG5zIiwiZWxlbWVudCIsImlubmVySFRNTCIsImJpbmQiLCJpbnB1dCIsIndoaWNoIiwia2V5Q29kZSIsImZvY3VzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiL1VzZXJzL3dpbHdpbHNtYW4vRG9jdW1lbnRzL1Byb2plY3RzL0VkaXRvci9zcmMvanMvaGVscGVycy5qcyIsIkFycmF5IiwidG9IVE1MIiwidGVtcCIsIm5vZGUiLCJwYXJlbnQiLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiY2xvc2VzdCIsImdldFRleHROb2RlcyIsIm5vZGVzIiwiY2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwid2lkdGhOb1Njcm9sbCIsIndpZHRoV2l0aFNjcm9sbCIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZU5vZGUiLCJ2aXNpYmlsaXR5Iiwib3ZlcmZsb3ciLCJub3ciLCJEYXRlIiwiZGVsYXkiLCJmbiIsIndhaXQiLCJzZXRUaW1lb3V0IiwiY29uY2F0IiwiL1VzZXJzL3dpbHdpbHNtYW4vRG9jdW1lbnRzL1Byb2plY3RzL0VkaXRvci9zcmMvanMvc2VsZWN0aW9uLmpzIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImdldFNlbGVjdGlvbiIsInNhdmVkIiwiZ2V0Q2FyZXRPZmZzZXQiLCJ0b1N0cmluZyIsInNlbGVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN0YXJ0IiwiZW5kIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlIiwidGV4dE5vZGVzIiwiZm91bmRTdGFydCIsImNoYXJDb3VudCIsImVuZENoYXJDb3VudCIsInRleHROb2RlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImxhc3ROb2RlIiwiZXhwYW5kZWRSYW5nZSIsImNsb25lUmFuZ2UiLCJkZWxldGVDb250ZW50cyIsImluc2VydE5vZGUiLCJzZXRFbmRBZnRlciIsInByZUNhcmV0UmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJlbmRDb250YWluZXIiLCJlbmRPZmZzZXQiLCJ0YWdSZWciLCJsaW1pdE5vZGUiLCJyZXQiLCJzdGFydFBhcmVudCIsInN0YXJ0Q29udGFpbmVyIiwiZW5kUGFyZW50IiwidG9VcHBlckNhc2UiLCJjbG9uZUNvbnRlbnRzIiwiZ2V0UmFuZ2VBdCJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxFQUFBLE1BQUFBLEdBQUFKLEdBQUEsRUFBQSxJQUFBSyxHQUFBLEdBQUFDLE9BQUEsdUJBQUFOLEVBQUEsSUFBQSxNQUFBSyxHQUFBRSxLQUFBLG1CQUFBRixFQUFBLEdBQUFHLEdBQUFYLEVBQUFHLElBQUFTLFdBQUFiLEdBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLEdBQUFFLEdBQUFELEVBQUFJLEdBQUEsR0FBQUwsRUFBQSxPQUFBSSxHQUFBRixFQUFBQSxFQUFBRixJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE1BQUFELEdBQUFHLEdBQUFTLFFBQUEsSUFBQSxHQUFBTCxHQUFBLGtCQUFBRCxVQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLEdBQUEsT0FBQUQsS0FBQWEsc0JBQUEsU0FBQVQsRUFBQVUsR0NDQSxZQUVBLElBQUlDLEdBQXVCLFNBQVVDLEVBQU9DLEVBQWFDLEdBQ25ERCxHQUFhRSxPQUFPQyxpQkFBaUJKLEVBQU9DLEdBQzVDQyxHQUFlQyxPQUFPQyxpQkFBaUJKLEVBQU1LLFVBQVdILElBRzFESSxFQUFrQixTQUFVQyxHQUM5QixNQUFPQSxLQUFRQSxFQUFJLFlBQWNBLElDVDVCQyxFQUFDRixFQUFBbEIsRUFBTSxjQUNQcUIsRUFBU0gsRUFBQWxCLEVBQU0sZ0JBQ2ZzQixFQUFhSixFQUFBbEIsRUFBTSxxQkFFcEJ1QixFQUFNLFdBQ0MsUUFEUEEsR0FDUUMsR0FLVixNQUprQixnQkFBUEEsS0FDVEEsRUFBS0MsU0FBU0MsaUJBQWlCRixJQUc1QkosRUFBRU8sVUFBVUgsSUFNakJJLEtBQUtDLElBQU1MLEVBQ1hJLEtBQUtDLElBQUlDLGFBQWEsbUJBQW1CLEdBRXpDRixLQUFLRyxVQUFZLEdBQUlWLEdBQ3JCTyxLQUFLSSxZQUNMSixLQUFLSyxZQUNMTCxLQUFLTSxjQUVMTixNQUFLTyxjQUNBQyxhQWRJaEIsRUFBRWlCLE1BQU05QixLQUFLaUIsR0FBSWMsSUFBSSxTQUFBOUMsR0FDMUIsTUFBTyxJQUFJK0IsR0FBTy9CLEtEK2V4QixNQWxkQW1CLEdDckNJWSxFQUFNLE1BeUJWZ0IsWURnQklDLE1DaEJNLFdBSVIsSUFIQSxHQUFJQyxHQUFhYixLQUFLRyxVQUFVVyxNQUFNQyx3QkFHUCxJQUF4QkYsRUFBV0csVUFDaEJILEVBQWFBLEVBQVdJLFVBRzFCLE9BQU9KLElEa0JMSyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHQ2hCbEJDLGlCRHFCSVQsTUNyQlcsU0FBQ1UsR0FHZCxHQUFvQixnQkFBVEEsR0FBbUIsQ0FDNUIsR0FBSUMsR0FBTUQsRUFBTUUsRUFBT0MsVUFBVSxJQUNoQ0gsTUFBV0MsR0FBT0MsRUR5QmpCLElBQUssR0NyQm1CRSxHRHFCZkMsRUNyQkduQyxFQUFFb0MsS0FBS04sR0FBS08sT0FBQUMsY0FBQUosRUFBQUMsRUFBQUksUUFBQUMsTUFBQSxDRHNCdEIsR0N0QkdULEdBQUdHLEVBQUFkLEtBQ1ZaLE1BQUtLLFNBQVNrQixHQUFPdkIsS0FBS0ssU0FBU2tCLE9BQ25DdkIsS0FBS0ssU0FBU2tCLEdBQUtVLEtBQUtYLEVBQUtDLE1EeUI3QkwsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0N0QmxCYyxtQkQyQkl0QixNQzNCYSxTQUFDVyxFQUFLQyxHQUNyQixHQUFJRixHQUFNYSxHQUVOYixFQUFPdEIsS0FBS0ssU0FBU2tCLE1BR1ZhLFNBQVRaLFFBQ0t4QixNQUFLSyxTQUFTa0IsR0FHcUIsTUFBaENZLEVBQVFiLEVBQUtlLFFBQVFiLE1BQy9CRixFQUFLZ0IsT0FBT0gsRUFBTyxHQUdDLElBQWhCYixFQUFLMUMsY0FDQW9CLE1BQUtLLFNBQVNrQixNRCtCekJMLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdDMUJsQm1CLGFEK0JJM0IsTUMvQk8sU0FBQ1csRUFBS1gsRUFBTzRCLEdEZ0NsQixHQUFJQyxHQUFRekMsSUM3QmhCQSxNQUFLRyxVQUFVdUMsVUFHZmxELEVBQUVtRCxNQUFNLFdBR04sR0FBSUYsRUFBS3BDLFNBQVNrQixHRGlDWixJQUFLLEdDaEMwQnFCLEdEZ0N0QkMsRUNoQ0lKLEVBQUtwQyxTQUFTa0IsR0FBSU0sT0FBQUMsY0FBQWMsRUFBQUMsRUFBQWQsUUFBQUMsTUFBQSxDRGlDN0IsR0NqQ0dSLEdBQUlvQixFQUFBaEMsS0FDWFksR0FBS3NCLE1BQUtMLEdBQVE3QixFQUFPVyxRQUszQjFCLFVBQVMwQyxZQUFZaEIsR0FBSyxFQUFPWCxFQUkvQjRCLElBQ0ZDLEVBQUt0QyxVQUFVNEMsZ0JBS2pCTixFQUFLTyxRQUFRLHFCRGtDYjlCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdDL0JsQjZCLElEb0NJckMsTUNwQ0YsU0FBQ3NDLEVBQU8xQixHRHFDSixHQUFJMkIsR0FBU25ELElDbENqQmtELEdBQVFBLEVBQU1FLE1BQU0sS0FHQSxnQkFBVDVCLEtEdUNMLFdDdENKLEdBQUk2QixHQUFjN0IsQ0FDbEJBLEdBQU8sV0R3Q0MsTUN4Q0syQixHQUFLSCxRQUFRSyxNRDhDeEIsS0FBSyxHQzFDYUMsR0QwQ1RDLEVDMUNJTCxFQUFLckIsT0FBQUMsY0FBQXdCLEVBQUFDLEVBQUF4QixRQUFBQyxNQUFBLENEMkNoQixHQzNDR3dCLEdBQUlGLEVBQUExQyxLQUNYWixNQUFLTSxPQUFPa0QsR0FBUXhELEtBQUtNLE9BQU9rRCxPQUNoQ3hELEtBQUtNLE9BQU9rRCxHQUFNdkIsS0FBS1QsR0FHekIsTUFBT3hCLE9ENkNMa0IsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0MzQ2xCcUMsS0RnREk3QyxNQ2hERCxTQUFDc0MsRUFBTzFCLEdBQ1QsR0FBSWtDLEdBQU92QixDQUdYZSxHQUFRQSxFQUFNRSxNQUFNLElEa0RoQixLQUFLLEdDaERhTyxHRGdEVEMsRUNoRElWLEVBQUtyQixPQUFBQyxjQUFBNkIsRUFBQUMsRUFBQTdCLFFBQUFDLE1BQUEsQ0RpRGhCLEdDakRHd0IsR0FBSUcsRUFBQS9DLE9BQ1A4QyxFQUFRMUQsS0FBS00sT0FBT2tELE1BR1RwQixTQUFUWixRQUNLeEIsTUFBS00sT0FBT2tELEdBR3dCLE1BQWpDckIsRUFBUXVCLEVBQU1yQixRQUFRYixNQUNoQ2tDLEVBQU1wQixPQUFPSCxFQUFPLEdBR0MsSUFBakJ1QixFQUFNOUUsY0FDRG9CLE1BQUtNLE9BQU9rRCxLQU0zQixNQUFPeEQsT0RrRExrQixVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHQ2hEbEI0QixTRHFESXBDLE1DckRHLFNBQUM0QyxHRHNERixHQ3JEQUssR0FBR0gsRURxRENJLEVBQVM5RCxLQ3BEZitELEVBQU92RSxFQUFFaUIsTUFBTWdCLFVBQVcsRUFRNUIsS0FMSW9DLEVBQUksaUJBQWlCRyxLQUFLUixLQUM1Qk8sRUFBS0UsUUFBUWpFLEtBQUtJLFNBQVN5RCxFQUFFLEtBSTNCSCxFQUFRMUQsS0FBS00sT0FBT2tELEdEd0RsQixJQUFLLEdDdkRhVSxHRHVEVEMsRUN2RElULEVBQUs3QixPQUFBQyxjQUFBb0MsRUFBQUMsRUFBQXBDLFFBQUFDLE9Ed0RoQixXQUNFLEdDekRDUixHQUFJMEMsRUFBQXRELEtBRVhwQixHQUFFbUQsTUFBTSxXRDBEQSxNQzFETW5CLEdBQUtzQixNQUFLZ0IsRUFBT0MsT0FJbkMsT0FBTy9ELE9EOERMa0IsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0M1RGxCWixXRGlFSUksTUNqRUssV0QrRUgsSUFBSyxHQzlEZ0J3RCxHRGlEakJDLEVBQVNyRSxLQzlEZnNFLEVBQVksU0FBQUMsR0FDVkYsRUFBS3JCLFFBQVF1QixFQUFNQyxLQUFNRCxJQUkzQkUsR0FDRSxVQUFXLFlBQWEsUUFDeEIsWUFBYSxXQUNiLFFBQVMsVUFBVyxXQUNwQixRQUFTLFFEa0VBQyxFQzlER0QsRUFBUzVDLE9BQUFDLGNBQUFzQyxFQUFBTSxFQUFBM0MsUUFBQUMsTUFBQSxDRCtEbkIsR0MvREcyQyxHQUFHUCxFQUFBeEQsS0FDVlosTUFBS0MsSUFBSTJFLGlCQUFpQkQsRUFBS0wsR0FRakMsTUFGQXRFLE1BQUtpRCxHQUFHLGdCQUFpQixrQkFFbEJqRCxNRGlFTGtCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdDL0RsQnlELFlEb0VJakUsTUNwRU0sU0FBQzRDLEVBQU1zQixFQUFTQyxHQUN4Qi9FLEtBQUtJLFNBQVNvRCxHQUFRc0IsRUFDdEI5RSxLQUFLaUQsR0FBRSxXQUFZTyxFQUFRdUIsSURzRXpCN0QsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0NwRWxCNEQsZUR5RUlwRSxNQ3pFUyxTQUFDNEMsR0FDWixHQUFJc0IsR0FBVTlFLEtBQUtJLFNBQVNvRCxFQU81QixPQUxJc0IsV0FDSzlFLE1BQUtJLFNBQVNvRCxHQUNyQnhELEtBQUt5RCxJQUFHLFdBQVlELElBR2ZzQixHRDJFTDVELFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdDekVsQjZELFlEOEVJckUsTUM5RU0sU0FBQzRDLEdBQ1QsTUFBT3hELE1BQUtJLFNBQVNvRCxJRGdGbkJ0QyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHQzlFbEJiLGFEbUZJSyxNQ25GTyxXRG9GTCxHQUFJc0UsR0FBU2xGLElDakZqQkEsTUFBS3FCLGlCQUdIOEQsV0FBYyxXRHNGUixHQ3JGQUMsR0RxRklDLEVBQVNyRixNQ2xGWm9GLEVBQU1wRixLQUFLRyxVQUFVbUYsU0FBUyxPQUNqQ0YsRUFBSUcsUUFBUS9GLEVBQUVnRyxRQUNkeEYsS0FBS0csVUFBVXVDLFdBR04xQyxLQUFLRyxVQUFVc0YsU0FBUyxLQUNqQ3pGLEtBQUt1QyxZQUFZLFVBSWpCdkMsS0FBS2lGLFdBQVcsVUFBVVMsWUFBWSxhQUFjLFNBQUM5RSxHQUNuRHlFLEVBQUs5QyxZQUFZLGFBQWMzQixJQUFTQSxNQU05QytFLFlBQWUsU0FBVUMsR0FHbkI1RixLQUFLRyxVQUFVbUYsU0FBU00sR0FDMUI1RixLQUFLdUMsWUFBWSxjQUFlLEtBSWhDdkMsS0FBS3VDLFlBQVksY0FBZXFELElBS3BDQyxVQUFhLFNBQVVELEdBQ3JCLEdBQUlSLEVBR0osSUFBS0EsRUFBTXBGLEtBQUtHLFVBQVVtRixTQUFTTSxHQUlqQ1IsRUFBSUcsUUFBUS9GLEVBQUVnRyxRQUNkeEYsS0FBS0csVUFBVXVDLGNBR1YsSUFBSTFDLEtBQUtHLFVBQVVzRixTQUFTRyxHQUFVLENBQzNDLEdBQUlFLEdBQU0sR0FBSUMsUUFBTyxJQUFNSCxFQUFVLFlBQWNBLEVBQVUsSUFBSyxJQUNsRTVGLE1BQUtHLFVBQVU2RixRQUFRaEcsS0FBS0csVUFBVThGLEtBQUtELFFBQVFGLEVBQUssU0FJeEQ5RixNQUFLRyxVQUFVNkYsUUFBTyxJQUFLSixFQUFPLElBQUk1RixLQUFLRyxVQUFVOEYsS0FBSSxLQUFLTCxFQUFPLE9BTzNFLElBQUlNLEdBQWlCLFNBQUMzRSxFQUFLWCxHQUN6QixNQUFPLFlBQ0wsTUFBT3NFLEdBQUszQyxZQUFZaEIsRUFBS1gsS0FJN0J1RixFQUFlLFNBQUFDLEdBQ2pCLE1BQU8sWUFHTCxNQUFxQixpQkFBVkEsR0FDRkEsRUFJTCxhQUFhQyxLQUFLRCxHQUNibEIsRUFBSy9FLFVBQVVzRixTQUFTVyxJQUM3QmxCLEVBQUsvRSxVQUFVbUYsU0FBU2MsR0FJeEIsd0JBQXdCQyxLQUFLRCxHQUN4QmxCLEVBQUsvRSxVQUFVbUYsU0FBU2MsR0FJMUJ2RyxTQUFTeUcsa0JBQWtCRixLQUlsQ3RCLEVBQVUsR0FBSXBGLElBQ2hCNkcsY0FBZSxXQUNickIsRUFBSy9FLFVBQVV1QyxXQUdqQjhELFVBQ0VDLFFBQVMsSUFDVEMsT0FBUVIsRUFBZSxRQUN2QlMsT0FBUVIsRUFBYSxVQUVyQk0sUUFBUyxJQUNUQyxPQUFRUixFQUFlLFVBQ3ZCUyxPQUFRUixFQUFhLFlBRXJCTSxRQUFTLElBQ1RDLE9BQVFSLEVBQWUsY0FDdkJTLE9BQVFSLEVBQWEsT0FFckJNLFFBQVMsS0FDVEMsT0FBUVIsRUFBZSxjQUFlLE1BQ3RDUyxPQUFRUixFQUFhLFFBRXJCTSxRQUFTLEtBQ1RDLE9BQVFSLEVBQWUsY0FBZSxNQUN0Q1MsT0FBUVIsRUFBYSxRQUVyQk0sUUFBUyxJQUNUQyxPQUFRUixFQUFlLGNBQWUsY0FDdENTLE9BQVFSLEVBQWEsZ0JBRXJCTSxRQUFTLFlBQ1RDLE9BQVFSLEVBQWUsWUFBYSxRQUNwQ1MsT0FBUVIsRUFBYSxXQXFEekIsT0FoREFuRyxNQUFLNkUsV0FBVyxTQUFVQyxFQUFTLFNBQUNqSCxHQUNsQyxHQUFJK0ksR0FBVUMsRUFBZUMsRUFDM0JDLElBTUYsT0FIQTdCLEdBQUsvRSxVQUFVNkcsT0FHWDlCLEVBQUsvRSxVQUFVOEcsZ0JBQ2pCcEosR0FBRXFKLFFBS0pOLEVBQVcxQixFQUFLL0UsVUFBVWdILG1CQUMxQkosRUFBTUssR0FBS1IsRUFBU1MsS0FBT1QsRUFBU1UsT0FBUyxFQUM3Q1AsRUFBTVEsRUFBSUMsT0FBT0MsWUFHakI1SixFQUFFb0MsSUFBSXlILE1BQU1DLFFBQVUsUUFDdEJkLEVBQWdCaEosRUFBRW9DLElBQUkySCxhQUN0QmQsRUFBbUJqSixFQUFFb0MsSUFBSTRILFlBQWMsRUFDdkNoSyxFQUFFb0MsSUFBSXlILE1BQU1DLFFBQVUsR0FHbEJmLEVBQVNrQixJQUFNakIsR0FDakJoSixFQUFFa0ssU0FBUyxVQUNYaEIsRUFBTVEsR0FBS1gsRUFBU29CLFNBSXBCbkssRUFBRWtLLFNBQVMsT0FDWGhCLEVBQU1RLEdBQUtYLEVBQVNrQixLQUlsQmYsRUFBTUssRUFBSU4sRUFDWkMsRUFBTUssR0FBS04sRUFBbUJDLEVBQU1LLEVBRzNCSSxPQUFPUyxXQUFhekksRUFBRTBJLGlCQUFtQm5CLEVBQU1LLEVBQUlOLElBQzVEQyxFQUFNSyxHQUFLTixHQUFvQlUsT0FBT1MsV0FBYWxCLEVBQU1LLEVBQUk1SCxFQUFFMEksdUJBSWpFckssR0FBRXNLLEtBQUtwQixFQUFNSyxFQUFHTCxFQUFNUSxNQUdqQnZILE1EdUZMa0IsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsS0NuZmR6QixJQThaTjZILFFBQU83SCxPQUFTQSxFRDhGaEJiLEVBQU9KLFFDNUZRaUIsSURpR1p5SSxtQkFBbUIsdUVBQXVFQyxZQUFZLGdFQUFnRUMsY0FBYyxvRUFBb0VDLHdFQUF3RSxTQUFTbkssRUFBUVUsR0FDcFYsWUFFQSxJQUFJQyxHQUF1QixTQUFVQyxFQUFPQyxFQUFhQyxHQUNuREQsR0FBYUUsT0FBT0MsaUJBQWlCSixFQUFPQyxHQUM1Q0MsR0FBZUMsT0FBT0MsaUJBQWlCSixFQUFNSyxVQUFXSCxJQUcxREksRUFBa0IsU0FBVUMsR0FDOUIsTUFBT0EsS0FBUUEsRUFBSSxZQUFjQSxJRTlnQjVCQyxFQUFDRixFQUFBbEIsRUFBTSxjQUVSb0ssRUFBUyxnREFFVDlJLEVBQWEsV0FDTixRQURQQSxLRm1oQkYsR0VsaEJVK0ksR0FBSXJHLFNBQUFYLFVBQUEsTUFBS0EsVUFBQSxFQUVuQnpCLE1BQUt3RyxRQUFVaUMsRUFBS2pDLFlBRXBCM0csU0FBUzZJLEtBQUtDLFlBQVkzSSxLQUFLNEksU0FFL0I1SSxLQUFLK0gsU0FBU1UsRUFBS1YsVUFBWSxPQUMvQi9ILEtBQUs2SSxZQUFjSixFQUFLbEMsZUFBaUIvRyxFQUFFc0osS0FFM0M5SSxLQUFLa0gsT0Y0dUJQLE1BdE5BbkksR0VoaUJJVyxFQUFhLE1BYWpCeUksTUZxaEJJdkgsTUVyaEJBLFNBQUN3RyxFQUFHRyxHRnNoQkYsR0FBSTlFLEdBQVF6QyxJRTFnQmhCLE9BVkFBLE1BQUtDLElBQUl5SCxNQUFNQyxRQUFVLEdBQ3pCM0gsS0FBS0MsSUFBSXlILE1BQU1JLElBQU1QLEVBQUksS0FDekJ2SCxLQUFLQyxJQUFJeUgsTUFBTUwsS0FBT0QsRUFBSSxLQUcxQjVILEVBQUVtRCxNQUFNLFdGd2hCRixNRXhoQlFGLEdBQUt4QyxJQUFJOEksVUFBVUMsSUFBSSxjQUdyQ2hKLEtBQUt3RyxRQUFRakIsUUFBUSxTQUFBMEQsR0YwaEJmLE1FMWhCc0JBLEdBQUlsRSxXQUV6Qi9FLE1GNmhCTGtCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdFNWhCbEI4RixNRitoQkl0RyxNRS9oQkEsV0FLRixNQUpBWixNQUFLQyxJQUFJeUgsTUFBTUMsUUFBVSxPQUN6QjNILEtBQUtDLElBQUl5SCxNQUFNSSxJQUFNOUgsS0FBS0MsSUFBSXlILE1BQU1MLEtBQU8sR0FDM0NySCxLQUFLQyxJQUFJOEksVUFBVUcsT0FBTyxZQUMxQmxKLEtBQUswRixhQUFZLEdBQ1YxRixNRmlpQkxrQixVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHRWhpQmQrSCxTRm1pQkFDLElFbmlCTyxXQUNULE1BQU9wSixNQUFLQyxJQUFJOEksVUFBVXRELFNBQVMsYUZxaUJqQ3RFLFlBQVksRUFDWkMsY0FBYyxHRW5pQmxCc0UsYUZzaUJJOUUsTUV0aUJPLFNBQUN5SSxFQUFhekksRUFBTzBJLEVBQVVDLEdGdWlCcEMsR0FBSXBHLEdBQVNuRCxLRXRpQmJ3SixFQUFPeEosS0FBS0MsSUFBSXdKLFdBQVdDLFVBQzdCUCxFQUFpQyxVQUF2QkssRUFBSzlCLE1BQU1DLFFBR25CZ0MsRUFBVWxJLFVBQVVBLFVBQVU3QyxPQUFTLEVBd0IzQyxJQXZCQTJLLEVBQTJCLGlCQUFaSSxHQUF3QkEsRUFBVXZILE9BR2pEa0gsRUFBNEIsa0JBQVYxSSxHQUF1QkEsRUFBUTBJLEVBQ2pEQSxFQUErQixrQkFBYkEsR0FBMEJBLEVBQVdsSCxPQUd2RGlILEVBQXFDLGdCQUFoQkEsR0FBMkJBLEVBQWMsR0FDOUR6SSxFQUF5QixnQkFBVkEsR0FBcUJBLEVBQVEsR0FHeEMsYUFBYXlGLEtBQUtyRyxLQUFLK0gsY0FDekJ3QixHQUFRLEdBSVZKLEVBQVUvRyxTQUFjbUgsRUFBUUosR0FBV0ksRUFHM0NDLEVBQUtDLFdBQVd2SixhQUFhLGNBQWVtSixHQUM1Q0csRUFBS0MsV0FBVzdJLE1BQVFBLEVBR25CdUksRUFtQkhLLEVBQUs5QixNQUFNQyxRQUFVLEdBQ3JCNkIsRUFBS0MsV0FBVzdJLE1BQVEsR0FDeEJaLEtBQUs0SixjQUFnQnBLLEVBQUVzSixLQUN2QjlJLEtBQUtDLElBQUl5SCxNQUFNbUMsTUFBUSxHQUN2QjdKLEtBQUtDLElBQUk4SSxVQUFVRyxPQUFPLGlCQXZCZCxDQUNabEosS0FBSzRKLGNBQWdCTixHQUFZOUosRUFBRXNKLEtBR25DOUksS0FBS0MsSUFBSXlILE1BQU1tQyxNQUFRN0osS0FBS0MsSUFBSTRILFlBQWMsS0FHOUMyQixFQUFLOUIsTUFBTUMsUUFBVSxPQUVyQixJQUFJbUMsR0FBYzlKLEtBQUtDLElBQUk0SCxZQUFjMkIsRUFBSzNCLFdBQzlDN0gsTUFBS0MsSUFBSXlILE1BQU1tQyxNQUFRQyxFQUFjTixFQUFLM0IsWUFBYyxLQUFPLEdBRy9EckksRUFBRW1ELE1BQU0sV0Z3aUJGLE1FeGlCUVEsR0FBS2xELElBQUk4SSxVQUFVQyxJQUFJLGlCRnFqQnJDOUgsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0V6aUJsQjJHLFVGNGlCSW5ILE1FNWlCSSxTQUFDbUosR0FDUCxHQUFJQyxHQUFTeEIsRUFBT3hFLEtBQUtoRSxLQUFLQyxJQUFJZ0ssVUFHbEMsT0FBSTdILFVBQWMySCxFQUNUQyxFQUFPLElBQU0sS0FJakIsd0JBQXdCM0QsS0FBSzBELElBSzlCQyxHQUNGaEssS0FBS0MsSUFBSThJLFVBQVVHLE9BQU9jLEVBQU8sSUFJbkNoSyxLQUFLQyxJQUFJOEksVUFBVUMsSUFBSSxPQUFTZSxHQUc1QixhQUFhMUQsS0FBSzBELElBQ3BCL0osS0FBSzBGLGFBQVksR0FHWjFGLE9BaEJFLEdGOGpCUGtCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdFN2lCbEJ3SCxPRmdqQkloSSxNRWhqQkMsV0ZpakJDLEdBQUlrRCxHQUFTOUQsS0VoakJiQyxFQUFNSixTQUFTcUssY0FBYyxNQUNqQ2pLLEdBQUlnSyxVQUFZLEtBR2hCaEssRUFBSTBJLFlBQVk5SSxTQUFTcUssY0FBYyxPQUd2Q2xLLEtBQUt3RyxRQUFRakIsUUFBUSxTQUFDMEQsRUFBSzVLLEVBQUc4TCxHQUM1QixHQUFJQyxHQUFVdkssU0FBU3FLLGNBQWMsU0FDckNFLEdBQVFsSyxhQUFhLE9BQVEsVUFDN0JrSyxFQUFRSCxVQUFZLFVBR1YsSUFBTjVMLEVBQ0YrTCxFQUFRckIsVUFBVUMsSUFBSSxrQkFDYjNLLElBQU04TCxFQUFLdkwsT0FBUyxHQUM3QndMLEVBQVFyQixVQUFVQyxJQUFJLGlCQUl4Qm9CLEVBQVFyQixVQUFVQyxJQUFJQyxFQUFJZ0IsV0FDMUJHLEVBQVFDLFVBQVlwQixFQUFJeEMsUUFHeEIyRCxFQUFReEYsaUJBQWlCLFFBQVNxRSxFQUFJdkMsT0FBTzRELEtBQUl4RyxJQUdqRG1GLEVBQUltQixRQUFVbkssRUFBSXdKLFdBQ2ZkLFlBQVk5SSxTQUFTcUssY0FBYyxPQUNuQ3ZCLFlBQVl5QixHQUdmbkIsRUFBSWxFLE9BQVMsV0FDWHFGLEVBQVFyQixVQUFVaEUsT0FBTyxTQUFVa0UsRUFBSXRDLFlBSzNDLElBQUk0RCxHQUFRdEssRUFBSXdKLFdBQ2JkLFlBQVk5SSxTQUFTcUssY0FBYyxPQUNuQ3ZCLFlBQVk5SSxTQUFTcUssY0FBYyxTQTRCdEMsT0ExQkFLLEdBQU1OLFVBQVksY0FHbEJqSyxLQUFLNEosY0FBZ0JwSyxFQUFFc0osS0FDdkJ5QixFQUFNM0YsaUJBQWlCLFFBQVMsU0FBQUwsR0FDUyxNQUFsQ0EsRUFBTWlHLE9BQVNqRyxFQUFNa0csV0FDeEIzRyxFQUFLOEYsY0FBY1csRUFBTTNKLE9BQ3pCa0QsRUFBSzRCLGFBQVksTUFLckI2RSxFQUFNdEosV0FBVzJELGlCQUFpQixnQkFBaUIsV0Y4aUI3QyxNRTlpQm1EMkYsR0FBTUcsVUFHL0RILEVBQU10SixXQUNIMEgsWUFBWTlJLFNBQVNxSyxjQUFjLFFBQ25DRCxVQUFZLGFBR2ZNLEVBQU1JLG1CQUNIL0YsaUJBQWlCLFFBQVMsV0FDekJkLEVBQUs0QixhQUFZLEdBQ2pCNUIsRUFBSytFLGdCQUdEN0ksS0FBS0MsSUFBTUEsR0Y4aUJqQmlCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEtFbHZCZDFCLElGeXZCTlosR0FBT0osUUVuakJRZ0IsSUZxakJaMkksWUFBWSxrRUFBa0V1QyxpRUFBaUUsU0FBU3hNLEVBQVFVLEdBQ25LLFlHL3ZCQSxJQUFJb0osR0FFQTFJLEdBRUZpQixNQUFPb0ssTUFBTXhMLFVBQVVvQixNQUN2Qm1CLEtBQU16QyxPQUFPeUMsS0FFYjdCLFVBQVcsU0FBVVIsR0FDbkIsU0FBVUEsR0FBd0IsSUFBakJBLEVBQUl5QixXQUd2QjhKLE9BQVEsU0FBVTFGLEdBQ2hCLEdBQUlhLEdBQ0Y4RSxFQUFPbEwsU0FBU3FLLGNBQWMsTUFFaEM5RSxHQUFNQSxFQUFJeEcsT0FBU1ksRUFBRWlCLE1BQU05QixLQUFLeUcsSUFBUUEsRUhvd0J4QyxLQUFLLEdHbHdCYTFELEdIa3dCVEMsRUdsd0JNeUQsRUFBR3ZELE9BQUFDLGNBQUFKLEVBQUFDLEVBQUFJLFFBQUFDLE1BQUEsQ0htd0JoQixHR253Qk9wQyxHQUFFOEIsRUFBQWQsS0FDVG1LLEdBQUtwQyxZQUFZL0ksR0FNbkIsTUFIQXFHLEdBQU84RSxFQUFLVixVQUNaVSxFQUFPLEtBRUE5RSxHQUdUVCxPQUFRLFNBQVU1RixHQUtoQixJQUpBLEdBQUlvTCxHQUNGQyxFQUFTckwsRUFBR3FCLFdBQ1ppSyxFQUFPckwsU0FBU3NMLHlCQUVWSCxFQUFPcEwsRUFBRzZKLFlBQ2hCeUIsRUFBS3ZDLFlBQVlxQyxFQU1uQixPQUhBQyxHQUFPRyxhQUFhRixFQUFNdEwsR0FDMUJxTCxFQUFPSSxZQUFZekwsR0FFWnNMLEdBR1RJLFFBQVMsU0FBVXRNLEVBQU9pTSxHQUd4QixJQUZBLEdBQUlELEdBRUdBLEVBQU9oTSxFQUFNaUMsWUFDbEIsR0FBSStKLElBQVNDLEVBQ1gsTUFBT0QsSUFLYk8sYUFBYyxTQUFVUCxHQUN0QixHQUFJUSxLQUVKLElBQXNCLElBQWxCUixFQUFLaEssU0FDUHdLLEVBQU12SixLQUFLK0ksT0h1d0JYLEtBQUssR0dsd0JxQnBJLEdBRnRCNkksRUFBV2pNLEVBQUVpQixNQUFNOUIsS0FBS3FNLEVBQUtVLFlIb3dCeEI3SSxFR2x3QlM0SSxFQUFRNUosT0FBQUMsY0FBQWMsRUFBQUMsRUFBQWQsUUFBQUMsTUFBQSxDSG13QnhCLEdHbndCT2hELEdBQUs0RCxFQUFBaEMsS0FDWjRLLEdBQU12SixLQUFLYSxNQUFNMEksRUFBT2hNLEVBQUUrTCxhQUFhdk0sSUFJM0MsTUFBT3dNLElBR1R0RCxlQUFnQixXQUNkLEdBQUlBLEVBQWtCLE1BQU9BLEVBRTdCLElBQUl5RCxHQUFlQyxFQUNqQkMsRUFBUWhNLFNBQVNxSyxjQUFjLE9BQy9CNEIsRUFBUUQsRUFBTUUsV0FpQmhCLE9BZkFGLEdBQU1uRSxNQUFNc0UsV0FBYSxTQUN6QkgsRUFBTW5FLE1BQU1tQyxNQUFRLFFBRXBCaEssU0FBUzZJLEtBQUtDLFlBQVlrRCxHQUUxQkYsRUFBZ0JFLEVBQU1oRSxZQUN0QmdFLEVBQU1uRSxNQUFNdUUsU0FBVyxTQUV2QkgsRUFBTXBFLE1BQU1tQyxNQUFRLE9BQ3BCZ0MsRUFBTWxELFlBQVltRCxHQUVsQkYsRUFBa0JFLEVBQU1qRSxZQUV4QmdFLEVBQU01SyxXQUFXb0ssWUFBWVEsR0FFckIzRCxFQUFpQnlELEVBQWdCQyxHQUczQzlDLEtBQU0sYUFFTm9ELElBQUtDLEtBQUtELElBRVZFLE1BQU8sU0FBVUMsRUFBSUMsR0FDbkIsR0FBSXZJLEdBQU92RSxFQUFFaUIsTUFBTTlCLEtBQUs4QyxVQUFXLEVBQ25DLE9BQU84SyxZQUFXLFdBQ2hCLE1BQU9GLEdBQUd2SixNQUFNLEtBQU1pQixJQUNyQnVJLElBR0wzSixNQUFPLFNBQVUwSixHQUNmLE1BQU83TSxHQUFFNE0sTUFBTXRKLE1BQU10RCxHQUFJNk0sRUFBSSxHQUFHRyxPQUFPaE4sRUFBRWlCLE1BQU05QixLQUFLOEMsVUFBVyxNSDB3Qm5FM0MsR0FBT0osUUd0d0JRYyxPSHd3QlRpTixtRUFBbUUsU0FBU3JPLEVBQVFVLEdBQzFGLFlBRUEsSUFBSUMsR0FBdUIsU0FBVUMsRUFBT0MsRUFBYUMsR0FDbkRELEdBQWFFLE9BQU9DLGlCQUFpQkosRUFBT0MsR0FDNUNDLEdBQWVDLE9BQU9DLGlCQUFpQkosRUFBTUssVUFBV0gsSUFHMURJLEVBQWtCLFNBQVVDLEdBQzlCLE1BQU9BLEtBQVFBLEVBQUksWUFBY0EsSUloNEI1QkMsRUFBQ0YsRUFBQWxCLEVBQU0sY0FFUnFCLEVBQVMsV0FDRixRQURQQSxLQUVGLE1BQUlPLE1BQUswTSxZQUFZQyxTQUNaM00sS0FBSzBNLFlBQVlDLGNBRzFCM00sS0FBSzBNLFlBQVlDLFNBQVczTSxNSnNsQzlCLE1BaE5BakIsR0k1NEJJVSxFQUFTLE1BU2IySixLSnE0Qkl4SSxNSXI0QkQsV0FDRCxNQUFPNEcsUUFBT29GLGdCSnU0QloxTCxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSXQ0QmxCNEYsTUp5NEJJcEcsTUl6NEJBLFdBQ0YsR0FBSWlNLE1BQ0YvTCxFQUFRZCxLQUFLYyxLQUVmK0wsR0FBTSxHQUFLL0wsRUFBTUMsd0JBQ2pCOEwsRUFBTSxHQUFLN00sS0FBSzhNLGVBQWVELEVBQU0sSUFDckNBLEVBQU0sR0FBS0EsRUFBTSxHQUFLL0wsRUFBTWlNLFdBQVduTyxPQUV2Q29CLEtBQUs2TSxNQUFRQSxHSjI0QlgzTCxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSTE0QmxCc0IsU0o2NEJJOUIsTUk3NEJHLFdBQ0xaLEtBQUtnTixPQUFPbEssTUFBTTlDLEtBQU1BLEtBQUs2TSxRSis0QjNCM0wsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsR0k5NEJsQitGLGtCSmk1Qkl2RyxNSWo1QlksV0FDZCxNQUFPWixNQUFLYyxNQUFNbU0seUJKbTVCaEIvTCxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSWw1QmxCMkIsZUpxNUJJbkMsTUlyNUJTLFdBQ1haLEtBQUtvSixNQUFNckcsaUJKdTVCVDdCLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdJdDVCbEI0TCxRSnk1QklwTSxNSXo1QkUsU0FBQ29LLEVBQU1rQyxFQUFPQyxHQUNsQixHQUFJaE4sR0FBWUgsS0FBS29KLE1BQ3BCdEksRUFBUWpCLFNBQVN1TixhQUlsQixJQUZBdE0sRUFBTXVNLFdBQVdyQyxHQUVINUksU0FBVjhLLEdBQStCOUssU0FBUitLLEVKKzVCckIsSUFBSyxHSXo1QnFCekwsR0FMMUI0TCxFQUFZOU4sRUFBRStMLGFBQWFQLEdBQzNCdUMsR0FBYSxFQUNiQyxFQUFZLEVBQ1pDLEVBQVlyTCxPSjI1QkhULEVJejVCUTJMLEVBQVN6TCxPQUFBQyxjQUFBSixFQUFBQyxFQUFBSSxRQUFBQyxNQUFBLENKMDVCeEIsR0kxNUJHMEwsR0FBUWhNLEVBQUFkLEtBU2YsSUFSQTZNLEVBQWVELEVBQVlFLEVBQVM5TyxRQUUvQjJPLEdBQWNMLEdBQVNNLElBQ2ZDLEVBQVJQLEdBQXdCQSxJQUFVTyxLQUNyQzNNLEVBQU02TSxTQUFTRCxFQUFVUixFQUFRTSxHQUNqQ0QsR0FBYSxHQUdYQSxHQUFxQkUsR0FBUE4sRUFBcUIsQ0FDckNyTSxFQUFNOE0sT0FBT0YsRUFBVVAsRUFBTUssRUFDN0IsT0FHRkEsRUFBWUMsRUFJaEJ0TixFQUFVME4sa0JBQ1YxTixFQUFVMk4sU0FBU2hOLElKMjVCakJJLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdJMTVCbEI0RSxTSjY1QklwRixNSTc1QkcsU0FBQzZGLEdBQ04sR0FBSXVFLEdBQU0rQyxFQUNSNU4sRUFBWUgsS0FBS29KLE1BQ2pCdEksRUFBUWQsS0FBS2MsTUFDYmtOLEVBQWdCbE4sRUFBTW1OLGFBQ3RCbEQsRUFBT2xMLFNBQVNxSyxjQUFjLE9BQzlCZ0IsRUFBT3JMLFNBQVNzTCx3QkFJbEIsS0FGQUosRUFBS1YsVUFBWTVELEVBRVR1RSxFQUFPRCxFQUFLdEIsWUFDbEJzRSxFQUFXN0MsRUFBS3ZDLFlBQVlxQyxFQUc5QmxLLEdBQU1vTixpQkFDTnBOLEVBQU1xTixXQUFXakQsR0FFYjZDLElBQ0ZDLEVBQWNJLFlBQVlMLEdBQzFCNU4sRUFBVTBOLGtCQUNWMU4sRUFBVTJOLFNBQVNFLEtKaTZCbkI5TSxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSS81QmxCMEwsZ0JKazZCSWxNLE1JbDZCVSxTQUFDb0ssR0FDYixHQUFJbEssR0FBUWQsS0FBS2MsTUFFYnVOLEVBQWdCdk4sRUFBTW1OLFlBSTFCLE9BSEFJLEdBQWNDLG1CQUFtQnRELEdBQ2pDcUQsRUFBY1QsT0FBTzlNLEVBQU15TixhQUFjek4sRUFBTTBOLFdBRXhDSCxFQUFjdEIsV0FBV25PLFFKbzZCOUJzQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSW42QmxCcUUsVUpzNkJJN0UsTUl0NkJJLFNBQUNnRixHQUNQLEdBQUk2SSxHQUFTLEdBQUkxSSxRQUFPLElBQU1ILEVBQVUsWUFBY0EsRUFBVSxJQUNoRSxPQUFPNkksR0FBT3BJLEtBQUtyRyxLQUFLaUcsT0p3NkJ0Qi9FLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxjQUFjLEdJdjZCbEJrRSxVSjA2QkkxRSxNSTE2QkksU0FBQ2dGLEVBQVM4SSxHQUNoQixHQUFJQyxNQUNGN04sRUFBUWQsS0FBS2MsTUFDYjhOLEVBQWM5TixFQUFNK04sZUFBZTVOLFdBQ25DNk4sRUFBWWhPLEVBQU15TixhQUFhdE4sV0FDL0IrSixFQUFPbEssRUFBTUMsdUJBZ0JmLElBYkE2RSxFQUFVQSxFQUFRbUosY0FHZEgsRUFBWWhKLFVBQVlBLEdBQzFCK0ksRUFBSTFNLEtBQUsyTSxHQUlQRSxJQUFjRixHQUFlRSxFQUFVbEosVUFBWUEsR0FDckQrSSxFQUFJMU0sS0FBSzZNLEdBSVBILEVBQUkvUCxPQUFTLEVBQ2YsTUFBTytQLEVBT1QsS0FIQUQsRUFBWXRNLFNBQWNzTSxFQUFZN08sU0FBUzZJLEtBQU9nRyxFQUcvQzFELEdBQVFBLElBQVMwRCxHQUFXLENBR2pDLEdBQUkxRCxFQUFLcEYsU0FBV29GLEVBQUtwRixVQUFZQSxFQUVuQyxNQURBK0ksR0FBSTFNLEtBQUsrSSxHQUNGMkQsQ0FHVDNELEdBQU9BLEVBQUsvSixXQUlkLE9BQU8sR0oyNkJMQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsY0FBYyxHSTE2QmQ2RSxNSjY2QkFtRCxJSTc2QkksV0FDTixNQUFPNUosR0FBRXNMLE9BQU85SyxLQUFLYyxNQUFNa08sa0JKKzZCekI3TixZQUFZLEVBQ1pDLGNBQWMsR0k3NkJkNkYsYUpnN0JBbUMsSUloN0JXLFdBQ2IsTUFBT3BKLE1BQUtvSixNQUFNbkMsYUprN0JoQjlGLFlBQVksRUFDWkMsY0FBYyxHSWg3QmROLE9KbTdCQXNJLElJbjdCSyxXQUNQLE1BQU9wSixNQUFLb0osTUFBTTZGLFdBQVcsSUpxN0IzQjlOLFlBQVksRUFDWkMsY0FBYyxLSXhsQ2QzQixJSitsQ05YLEdBQU9KLFFJejdCUWUsSUoyN0JaNEksWUFBWSx1RUFBdUUiLCJmaWxlIjoiZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLG51bGwsImltcG9ydCBfIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgU2VsZWN0aW9uIGZyb20gJy4vc2VsZWN0aW9uJztcbmltcG9ydCBFZGl0b3JUb29sYmFyIGZyb20gJy4vZWRpdG9yLXRvb2xiYXInO1xuXG5jbGFzcyBFZGl0b3Ige1xuICBjb25zdHJ1Y3RvcihlbCkge1xuICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWwpO1xuICAgIH1cblxuICAgIGlmICghXy5pc0VsZW1lbnQoZWwpKSB7XG4gICAgICByZXR1cm4gXy5zbGljZS5jYWxsKGVsKS5tYXAoZSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yKGUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5kb20gPSBlbDtcbiAgICB0aGlzLmRvbS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScsIHRydWUpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKCk7XG4gICAgdGhpcy50b29sYmFycyA9IHt9O1xuICAgIHRoaXMuY29tbWFuZHMgPSB7fTtcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xuXG4gICAgdGhpcy5pbml0VG9vbGJhcigpXG4gICAgICAgIC5hZGRFdmVudHMoKTtcbiAgfVxuXG4gIC8vIHJldHVybnMgdGhlIGVsZW1lbnQgdGhlIGN1cnNvciBpcyB3aXRoaW5cbiAgZ2V0Q29udGV4dCgpIHtcbiAgICB2YXIgY3R4RWxlbWVudCA9IHRoaXMuc2VsZWN0aW9uLnJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuXG4gICAgLy8gd2Ugd2FudCB0byByZXR1cm4gYW4gZWxlbWVudFxuICAgIHdoaWxlIChjdHhFbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICBjdHhFbGVtZW50ID0gY3R4RWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBjdHhFbGVtZW50O1xuICB9XG5cbiAgLy8gcmVnaXN0ZXJzIGEgY29tbWFuZCAob3IgY29tbWFuZHMpXG4gIHJlZ2lzdGVyQ29tbWFuZChjbWRzLyosIGZ1bmMqLykge1xuXG4gICAgLy8gaWYgYGNtZHNgIGlzIGEgYSBzdHJpbmcsIHR1cm4gYXJndW1lbnRzIGludG8gYW4gb2JqZWN0XG4gICAgaWYgKHR5cGVvZiBjbWRzID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IGNtZCA9IGNtZHMsIGZ1bmMgPSBhcmd1bWVudHNbMV07XG4gICAgICAoY21kcyA9IHt9KVtjbWRdID0gZnVuYztcbiAgICB9XG5cbiAgICAvLyBhZGQgY29tbWFuZHNcbiAgICBmb3IgKGxldCBjbWQgb2YgXy5rZXlzKGNtZHMpKSB7XG4gICAgICB0aGlzLmNvbW1hbmRzW2NtZF0gPSB0aGlzLmNvbW1hbmRzW2NtZF0gfHwgW107XG4gICAgICB0aGlzLmNvbW1hbmRzW2NtZF0ucHVzaChjbWRzW2NtZF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHVucmVnaXN0ZXJzIGEgY29tbWFuZFxuICB1bnJlZ2lzdGVyQ29tbWFuZChjbWQsIGZ1bmMpIHtcbiAgICB2YXIgY21kcywgaW5kZXg7XG5cbiAgICBpZiAoY21kcyA9IHRoaXMuY29tbWFuZHNbY21kXSkge1xuXG4gICAgICAvLyBkZWxldGUgYWxsIGlmIGBmdW5jYCBub3QgcGFzc2VkXG4gICAgICBpZiAoZnVuYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRzW2NtZF07XG5cbiAgICAgIC8vIGRlbGV0ZSBzcGVjaWZpYyBmdW5jdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgIH0gZWxzZSBpZiAoKGluZGV4ID0gY21kcy5pbmRleE9mKGZ1bmMpKSAhPT0gLTEpIHtcbiAgICAgICAgY21kcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGBjb21tYW5kc2AgaWYgZW1wdHlcbiAgICAgICAgaWYgKGNtZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZHNbY21kXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHByZWZvcm1zIHRoZSBjb21tYW5kIChgZG9jdW1lbnQuZXhlY0NvbW1hbmRgIGJ5IGRlZmF1bHQpXG4gIGV4ZWNDb21tYW5kKGNtZCwgdmFsdWUsIGNvbGxhcHNlKSB7XG5cbiAgICAvLyByZXN0b3JlIHNlbGVjdGlvbiBmaXJzdCAoaW4gY2FzZSBjb21tYW5kIHJlcXVpcmVkIGlucHV0KVxuICAgIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKTtcblxuICAgIC8vIGRlZmVyIGNvbW1hbmQgdG8gd2FpdCBmb3Igc2VsZWN0aW9uIHRvIHJlc3RvcmVcbiAgICBfLmRlZmVyKCgpID0+IHtcblxuICAgICAgLy8gY2FsbCBjdXN0b20gY29tbWFuZHNcbiAgICAgIGlmICh0aGlzLmNvbW1hbmRzW2NtZF0pIHtcbiAgICAgICAgZm9yIChsZXQgZnVuYyBvZiB0aGlzLmNvbW1hbmRzW2NtZF0pIHtcbiAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIFt2YWx1ZSwgY21kXSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gYGRvY3VtZW50LmV4ZWNDb21tYW5kYCBieSBkZWZhdWx0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjbWQsIGZhbHNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbGxhcHNlIHNlbGVjdGlvblxuICAgICAgaWYgKGNvbGxhcHNlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmNvbGxhcHNlVG9FbmQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gdG9nZ2xlIHRvb2xiYXJcbiAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGUgdG9vbGJhciBmcm9tIHRoaXMgbG9naWNcbiAgICAgIHRoaXMudHJpZ2dlcigndG9vbGJhcjppbmxpbmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcbiAgb24obmFtZXMsIGZ1bmMpIHtcblxuICAgIC8vIHNwbGl0IG5hbWVzIGludG8gYW4gYXJyYXlcbiAgICBuYW1lcyA9IG5hbWVzLnNwbGl0KCcgJyk7XG5cbiAgICAvLyBpZiBgZnVuY2AgaXMgc3RyaW5nLCB3cmFwIGluIHRyaWdnZXJcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgdHJpZ2dlck5hbWUgPSBmdW5jO1xuICAgICAgZnVuYyA9ICgpID0+IHRoaXMudHJpZ2dlcih0cmlnZ2VyTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gYWRkIGV2ZW50c1xuICAgIGZvciAobGV0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgIHRoaXMuZXZlbnRzW25hbWVdID0gdGhpcy5ldmVudHNbbmFtZV0gfHwgW107XG4gICAgICB0aGlzLmV2ZW50c1tuYW1lXS5wdXNoKGZ1bmMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICBvZmYobmFtZXMsIGZ1bmMpIHtcbiAgICB2YXIgZnVuY3MsIGluZGV4O1xuXG4gICAgLy8gc3BsaXQgbmFtZXMgaW50byBhbiBhcnJheVxuICAgIG5hbWVzID0gbmFtZXMuc3BsaXQoJyAnKTtcblxuICAgIGZvciAobGV0IG5hbWUgb2YgbmFtZXMpIHsgXG4gICAgICBpZiAoZnVuY3MgPSB0aGlzLmV2ZW50c1tuYW1lXSkge1xuXG4gICAgICAgIC8vIGRlbGV0ZSBhbGwgaWYgYGZ1bmNgIG5vdCBwYXNzZWRcbiAgICAgICAgaWYgKGZ1bmMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50c1tuYW1lXTtcblxuICAgICAgICAvLyBkZWxldGUgc3BlY2lmaWMgZnVuY3Rpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgIH0gZWxzZSBpZiAoKGluZGV4ID0gZnVuY3MuaW5kZXhPZihmdW5jKSkgIT09IC0xKSB7XG4gICAgICAgICAgZnVuY3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGBldmVudHNgIGlmIGVtcHR5XG4gICAgICAgICAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZXZlbnRzW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gdHJpZ2dlciBldmVudHMgYXR0YWNoZWQgdG8gdGhlIGVkaXRvclxuICB0cmlnZ2VyKG5hbWUpIHtcbiAgICB2YXIgbSwgZnVuY3MsXG4gICAgICBhcmdzID0gXy5zbGljZShhcmd1bWVudHMsIDEpO1xuXG4gICAgLy8gcGFzcyB0b29sYmFyIGZvciB0b29sYmFyIGV2ZW50c1xuICAgIGlmIChtID0gL150b29sYmFyOiguKikkLy5leGVjKG5hbWUpKSB7XG4gICAgICBhcmdzLnVuc2hpZnQodGhpcy50b29sYmFyc1ttWzFdXSk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCBhbGwgdGhlIGZ1bmN0aW9ucyBpZiBhbnkgZXhpc3RcbiAgICBpZiAoZnVuY3MgPSB0aGlzLmV2ZW50c1tuYW1lXSkge1xuICAgICAgZm9yIChsZXQgZnVuYyBvZiBmdW5jcykge1xuICAgICAgICAvLyBkZWZlciBmb3Igc29tZSBldmVudHNcbiAgICAgICAgXy5kZWZlcigoKSA9PiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGhvb2sgaW50byBET00gZXZlbnRzIGFuZCBzZXQgc29tZSBkZWZhdWx0c1xuICBhZGRFdmVudHMoKSB7XG4gICAgdmFyXG5cbiAgICAgIC8vIHdyYXBwZXIgdG8gdHJpZ2dlciBlZGl0b3IgZXZlbnRzXG4gICAgICBmaXJlRXZlbnQgPSBldmVudCA9PiB7XG4gICAgICAgIHRoaXMudHJpZ2dlcihldmVudC50eXBlLCBldmVudCk7XG4gICAgICB9LFxuXG4gICAgICAvLyBET00gZXZlbnRzIHRvIGhvb2sgaW50b1xuICAgICAgZG9tRXZlbnRzID0gW1xuICAgICAgICAnbW91c2V1cCcsICdtb3VzZWRvd24nLCAnY2xpY2snLFxuICAgICAgICAnbW91c2VvdmVyJywgJ21vdXNlb3V0JyxcbiAgICAgICAgJ2tleXVwJywgJ2tleWRvd24nLCAna2V5cHJlc3MnLCBcbiAgICAgICAgJ2ZvY3VzJywgJ2JsdXInXG4gICAgICBdO1xuXG4gICAgLy8gaG9vayBpbnRvIERPTSBldmVudHNcbiAgICBmb3IgKGxldCBldnQgb2YgZG9tRXZlbnRzKSB7XG4gICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKGV2dCwgZmlyZUV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGV2ZW50c1xuXG4gICAgLy8gc2hvdyB0b29sYmFyIHdoZW4gYSBzZWxlY3Rpb24gbWlnaHQgYmUgbWFkZVxuICAgIHRoaXMub24oJ21vdXNldXAga2V5dXAnLCAndG9vbGJhcjppbmxpbmUnKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3RvcmVzIGEgdG9vbGJhciBieSBuYW1lIGFuZCBhZGRzIHRvZ2dsZSBldmVudFxuICBhZGRUb29sYmFyKG5hbWUsIHRvb2xiYXIsIHRvZ2dsZSkge1xuICAgIHRoaXMudG9vbGJhcnNbbmFtZV0gPSB0b29sYmFyO1xuICAgIHRoaXMub24oYHRvb2xiYXI6JHtuYW1lfWAsIHRvZ2dsZSk7XG4gIH1cblxuICAvLyByZW1vdmVzIGEgdG9vbGJhciBhbmQgYWxsIGl0J3MgYXR0YWNoZWQgZXZlbnRzXG4gIGRldGFjaFRvb2xiYXIobmFtZSkge1xuICAgIHZhciB0b29sYmFyID0gdGhpcy50b29sYmFyc1tuYW1lXTtcblxuICAgIGlmICh0b29sYmFyKSB7XG4gICAgICBkZWxldGUgdGhpcy50b29sYmFyc1tuYW1lXTtcbiAgICAgIHRoaXMub2ZmKGB0b29sYmFyOiR7bmFtZX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9vbGJhcjtcbiAgfVxuXG4gIC8vIHVzZSBtZXRob2QgaW5zdGVhZCBvZiBhY2Nlc3NpbmcgdGhlIHByb3BlcnR5IGRpcmVjdGx5XG4gIGdldFRvb2xiYXIobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnRvb2xiYXJzW25hbWVdO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXJzIHNvbWUgZGVmYXVsdCBjb21tYW5kcyBhbmQgaW5pdGlhbGl6ZXMgdGhlIHRvb2xiYXJcbiAgaW5pdFRvb2xiYXIob3B0cykge1xuXG4gICAgLy8gcmVnaXN0ZXIgc29tZSBoZWxwZnVsIGNvbW1hbmRzXG4gICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoe1xuXG4gICAgICAvLyB0b2dnbGUgbGluayBhY3Rpb25cbiAgICAgICd0b2dnbGVMaW5rJzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxzO1xuXG4gICAgICAgIC8vIHJlbW92ZSBjbG9zZXN0IGxpbmtcbiAgICAgICAgaWYgKChlbHMgPSB0aGlzLnNlbGVjdGlvbi5pc1dpdGhpbignYScpKSkge1xuICAgICAgICAgIGVscy5mb3JFYWNoKF8udW53cmFwKTtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCk7XG5cbiAgICAgICAgLy8gdW5saW5rIHNlbGVjdGVkIGxpbmtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbi5jb250YWlucygnYScpKSB7XG4gICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgndW5saW5rJyk7XG5cbiAgICAgICAgLy8gc2hvdyBpbnB1dCB0byBjcmVhdGUgbGlua1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZ2V0VG9vbGJhcignaW5saW5lJykudG9nZ2xlSW5wdXQoJ2h0dHA6Ly8uLi4nLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ2NyZWF0ZUxpbmsnLCB2YWx1ZSwgISF2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8vIHRvZ2dsZSBibG9jayBlbGVtZW50c1xuICAgICAgJ3RvZ2dsZUJsb2NrJzogZnVuY3Rpb24gKHRhZ05hbWUpIHtcblxuICAgICAgICAvLyBmb3JtYXQgYXMgcGFyYWdyYXBoXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc1dpdGhpbih0YWdOYW1lKSkge1xuICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ2Zvcm1hdEJsb2NrJywgJ3AnKTtcblxuICAgICAgICAvLyBmb3JtYXQgYXMgYHRhZ05hbWVgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgnZm9ybWF0QmxvY2snLCB0YWdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLy8gdG9nZ2xlIHRhZ3MgKHVzZWQgZm9yIGlubGluZSBlbGVtZW50cylcbiAgICAgICd0b2dnbGVUYWcnOiBmdW5jdGlvbiAodGFnTmFtZSkge1xuICAgICAgICB2YXIgZWxzO1xuXG4gICAgICAgIC8vIHJlbW92ZSBjbG9zZXN0IG1hdGNoaW5nIHRhZ1xuICAgICAgICBpZiAoKGVscyA9IHRoaXMuc2VsZWN0aW9uLmlzV2l0aGluKHRhZ05hbWUpKSkge1xuICAgICAgICAgIC8vIFRPRE86IFxuICAgICAgICAgIC8vICAgSW5zdGVhZCBvZiBzdHJpcHBpbmcgdGhlIHRhZywgYnJlYWsgc2VsZWN0aW9uIG91dCBvZiB0YWcgbGlrZSBcbiAgICAgICAgICAvLyAgIGJvbGQvaXRhbGljIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICAgICAgZWxzLmZvckVhY2goXy51bndyYXApO1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKTtcblxuICAgICAgICAvLyByZW1vdmUgaW5uZXIgdGFnc1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uLmNvbnRhaW5zKHRhZ05hbWUpKSB7XG4gICAgICAgICAgbGV0IHJlZyA9IG5ldyBSZWdFeHAoJzwnICsgdGFnTmFtZSArICcoLio/KT58PC8nICsgdGFnTmFtZSArICc+JywgJ2cnKTtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMuc2VsZWN0aW9uLmh0bWwucmVwbGFjZShyZWcsICcnKSk7XG5cbiAgICAgICAgLy8gd3JhcCB3aXRoIHRhZ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UoYDwke3RhZ05hbWV9PiR7dGhpcy5zZWxlY3Rpb24uaHRtbH08LyR7dGFnTmFtZX0+YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHRlc3RpbmdcblxuICAgIHZhciBjb21tYW5kV3JhcHBlciA9IChjbWQsIHZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjQ29tbWFuZChjbWQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBxdWVyeVdyYXBwZXIgPSBxdWVyeSA9PiB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgIC8vIGZvcmNlIGFjdGl2ZSBzdGF0ZVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsaW5rcyAmIGNvZGVcbiAgICAgICAgaWYgKC9eKGF8Y29kZSkkLy50ZXN0KHF1ZXJ5KSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbi5jb250YWlucyhxdWVyeSkgfHwgXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5pc1dpdGhpbihxdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoZWFkaW5ncyAmIGJsb2NrcXVvdGVcbiAgICAgICAgaWYgKC9eKGgoMnwzKXxibG9ja3F1b3RlKSQvLnRlc3QocXVlcnkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmlzV2l0aGluKHF1ZXJ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKHF1ZXJ5KTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICB2YXIgdG9vbGJhciA9IG5ldyBFZGl0b3JUb29sYmFyKHtcbiAgICAgIG9uSW5wdXRDYW5jZWw6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpO1xuICAgICAgfSxcblxuICAgICAgYnV0dG9uczogW3tcbiAgICAgICAgY29udGVudDogJ0InLFxuICAgICAgICBhY3Rpb246IGNvbW1hbmRXcmFwcGVyKCdib2xkJyksXG4gICAgICAgIGFjdGl2ZTogcXVlcnlXcmFwcGVyKCdib2xkJylcbiAgICAgIH0sIHtcbiAgICAgICAgY29udGVudDogJ0knLFxuICAgICAgICBhY3Rpb246IGNvbW1hbmRXcmFwcGVyKCdpdGFsaWMnKSxcbiAgICAgICAgYWN0aXZlOiBxdWVyeVdyYXBwZXIoJ2l0YWxpYycpXG4gICAgICB9LCB7XG4gICAgICAgIGNvbnRlbnQ6ICdBJyxcbiAgICAgICAgYWN0aW9uOiBjb21tYW5kV3JhcHBlcigndG9nZ2xlTGluaycpLFxuICAgICAgICBhY3RpdmU6IHF1ZXJ5V3JhcHBlcignYScpXG4gICAgICB9LCB7XG4gICAgICAgIGNvbnRlbnQ6ICdIMScsXG4gICAgICAgIGFjdGlvbjogY29tbWFuZFdyYXBwZXIoJ3RvZ2dsZUJsb2NrJywgJ2gyJyksXG4gICAgICAgIGFjdGl2ZTogcXVlcnlXcmFwcGVyKCdoMicpXG4gICAgICB9LCB7XG4gICAgICAgIGNvbnRlbnQ6ICdIMicsXG4gICAgICAgIGFjdGlvbjogY29tbWFuZFdyYXBwZXIoJ3RvZ2dsZUJsb2NrJywgJ2gzJyksXG4gICAgICAgIGFjdGl2ZTogcXVlcnlXcmFwcGVyKCdoMycpXG4gICAgICB9LCB7XG4gICAgICAgIGNvbnRlbnQ6ICdcIicsXG4gICAgICAgIGFjdGlvbjogY29tbWFuZFdyYXBwZXIoJ3RvZ2dsZUJsb2NrJywgJ2Jsb2NrcXVvdGUnKSxcbiAgICAgICAgYWN0aXZlOiBxdWVyeVdyYXBwZXIoJ2Jsb2NrcXVvdGUnKVxuICAgICAgfSwge1xuICAgICAgICBjb250ZW50OiAnJmx0Oy8mZ3Q7JyxcbiAgICAgICAgYWN0aW9uOiBjb21tYW5kV3JhcHBlcigndG9nZ2xlVGFnJywgJ2NvZGUnKSxcbiAgICAgICAgYWN0aXZlOiBxdWVyeVdyYXBwZXIoJ2NvZGUnKVxuICAgICAgfV1cbiAgICB9KTtcblxuICAgIC8vIHRvb2xiYXIgdG9nZ2xlIGxvZ2ljXG4gICAgdGhpcy5hZGRUb29sYmFyKCdpbmxpbmUnLCB0b29sYmFyLCAodCkgPT4ge1xuICAgICAgdmFyIGJvdW5kYXJ5LCB0b29sYmFySGVpZ2h0LCB0b29sYmFySGFsZldpZHRoLFxuICAgICAgICBwb2ludCA9IHt9O1xuXG4gICAgICAvLyBzYXZlIHNlbGVjdGlvbiBpbiBjYXNlIGZvY3VzIGNoYW5nZXMgbGF0ZXJcbiAgICAgIHRoaXMuc2VsZWN0aW9uLnNhdmUoKTtcbiAgICAgIFxuICAgICAgLy8gaGlkZSB0aGUgdG9vbGJhciBpZiBub3RoaW5nIGlzIHNlbGVjdGVkXG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgdC5oaWRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IHN0YXJ0aW5nIHBvaW50cyBmb3IgdG9vbGJhclxuICAgICAgYm91bmRhcnkgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZUJvdW5kYXJ5KCk7XG4gICAgICBwb2ludC54ID0gKGJvdW5kYXJ5LmxlZnQgKyBib3VuZGFyeS5yaWdodCkgLyAyO1xuICAgICAgcG9pbnQueSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICAgICAgLy8gZ2V0IGRpbWVuc2lvbnMgb2YgdG9vbGJhclxuICAgICAgdC5kb20uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0b29sYmFySGVpZ2h0ID0gdC5kb20ub2Zmc2V0SGVpZ2h0O1xuICAgICAgdG9vbGJhckhhbGZXaWR0aCA9IHQuZG9tLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgIHQuZG9tLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgICAgLy8gY2VudGVyIHRvb2xiYXIgdW5kZXIgc2VsZWN0aW9uXG4gICAgICBpZiAoYm91bmRhcnkudG9wIDwgdG9vbGJhckhlaWdodCkge1xuICAgICAgICB0LnBvc2l0aW9uKCdib3R0b20nKTtcbiAgICAgICAgcG9pbnQueSArPSBib3VuZGFyeS5ib3R0b207XG5cbiAgICAgIC8vIGNlbnRlciB0b29sYmFyIGFib3ZlIHNlbGVjdGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdC5wb3NpdGlvbigndG9wJyk7XG4gICAgICAgIHBvaW50LnkgKz0gYm91bmRhcnkudG9wO1xuICAgICAgfVxuXG4gICAgICAvLyBzbmFwIHRvb2xiYXIgdG8gbGVmdCBlZGdlXG4gICAgICBpZiAocG9pbnQueCA8IHRvb2xiYXJIYWxmV2lkdGgpIHtcbiAgICAgICAgcG9pbnQueCArPSB0b29sYmFySGFsZldpZHRoIC0gcG9pbnQueDtcblxuICAgICAgLy8gc25hcCB0b29sYmFyIHRvIHJpZ2h0IGVkZ2UgKGFkanVzdGVkIGZvciBzY3JvbGxiYXIpXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoIC0gXy5zY3JvbGxiYXJXaWR0aCgpIC0gcG9pbnQueCA8IHRvb2xiYXJIYWxmV2lkdGgpIHtcbiAgICAgICAgcG9pbnQueCAtPSB0b29sYmFySGFsZldpZHRoIC0gKHdpbmRvdy5pbm5lcldpZHRoIC0gcG9pbnQueCAtIF8uc2Nyb2xsYmFyV2lkdGgoKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNob3cgdG9vbGJhclxuICAgICAgdC5zaG93KHBvaW50LngsIHBvaW50LnkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxud2luZG93LkVkaXRvciA9IEVkaXRvcjtcblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yO1xuIiwiaW1wb3J0IF8gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgRElSUkVHID0gLyg/Ol58XFxzKShwbS0tKHRvcHxib3R0b218bGVmdHxyaWdodCkpKD86XFxzfCQpLztcblxuY2xhc3MgRWRpdG9yVG9vbGJhciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgdGhpcy5idXR0b25zID0gb3B0cy5idXR0b25zIHx8IHt9O1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5idWlsZCgpKTtcblxuICAgIHRoaXMucG9zaXRpb24ob3B0cy5wb3NpdGlvbiB8fCAndG9wJyk7XG4gICAgdGhpcy5jYW5jZWxJbnB1dCA9IG9wdHMub25JbnB1dENhbmNlbCB8fCBfLm5vb3A7XG5cbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIHNob3coeCwgeSkge1xuXG4gICAgdGhpcy5kb20uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIHRoaXMuZG9tLnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuICAgIHRoaXMuZG9tLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcblxuICAgIC8vIHByZXZlbnQgYW5pbWF0aW9uIGZyb20gbm90IHJ1bm5pbmdcbiAgICBfLmRlZmVyKCgpID0+IHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoJ3BtLS1zaG93JykpO1xuXG4gICAgLy8gY2hlY2sgaWYgYnV0dG9ucyBzaG91bGQgYmUgYWN0aXZlXG4gICAgdGhpcy5idXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi50b2dnbGUoKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5kb20uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLmRvbS5zdHlsZS50b3AgPSB0aGlzLmRvbS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgdGhpcy5kb20uY2xhc3NMaXN0LnJlbW92ZSgncG0tLXNob3cnKTtcbiAgICB0aGlzLnRvZ2dsZUlucHV0KGZhbHNlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldCB2aXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmRvbS5jbGFzc0xpc3QuY29udGFpbnMoJ3BtLS1zaG93Jyk7XG4gIH1cblxuICB0b2dnbGVJbnB1dChwbGFjZWhvbGRlciwgdmFsdWUsIGNhbGxiYWNrLCBmb3JjZSkge1xuICAgIHZhciBjdHJsID0gdGhpcy5kb20uZmlyc3RDaGlsZC5sYXN0Q2hpbGQsXG4gICAgICB2aXNpYmxlID0gY3RybC5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snO1xuXG4gICAgLy8gYGZvcmNlYCBhcmd1bWVudCBhbHdheXMgY29tZXMgbGFzdFxuICAgIGxldCBsYXN0QXJnID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3JjZSA9IHR5cGVvZiBsYXN0QXJnID09PSAnYm9vbGVhbicgPyBsYXN0QXJnIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gYGNhbGxiYWNrYCBjYW4gc29tZXRpbWVzIGJlIHNlY29uZCBhcmd1bWVudFxuICAgIGNhbGxiYWNrID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBjYWxsYmFjaztcbiAgICBjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gYHBsYWNlaG9sZGVyYCBhbmQgYHZhbHVlYCBtdXN0IGJlIHN0cmluZ3NcbiAgICBwbGFjZWhvbGRlciA9IHR5cGVvZiBwbGFjZWhvbGRlciA9PT0gJ3N0cmluZycgPyBwbGFjZWhvbGRlciA6ICcnO1xuICAgIHZhbHVlID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogJyc7XG5cbiAgICAvLyBjYW5ub3Qgc2hvdyBpbnB1dCB3aGVuIHRvb2xiYXIgaXMgdG8gbGVmdCBvciByaWdodFxuICAgIGlmICgvbGVmdHxyaWdodC8udGVzdCh0aGlzLnBvc2l0aW9uKCkpKSB7XG4gICAgICBmb3JjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG92ZXJyaWRlIGB2aXNpYmxlYCB3aGVuIGZvcmNlZFxuICAgIHZpc2libGUgPSB1bmRlZmluZWQgPT09IGZvcmNlID8gdmlzaWJsZSA6ICFmb3JjZTtcblxuICAgIC8vIHNldCBwcm9wZXJ0aWVzXG4gICAgY3RybC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwbGFjZWhvbGRlcik7XG4gICAgY3RybC5maXJzdENoaWxkLnZhbHVlID0gdmFsdWU7XG5cbiAgICAvLyBub3QgdmlzaWJsZVxuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgdGhpcy5pbnB1dENhbGxiYWNrID0gY2FsbGJhY2sgfHwgXy5ub29wO1xuXG4gICAgICAvLyBzZXQgZXhwbGljaXQgd2lkdGggZm9yIHRyYW5zaXRpb25cbiAgICAgIHRoaXMuZG9tLnN0eWxlLndpZHRoID0gdGhpcy5kb20ub2Zmc2V0V2lkdGggKyAncHgnO1xuXG4gICAgICAvLyBzaG93IGlucHV0IHdpdGggcHJvcGVyIHdpZHRoXG4gICAgICBjdHJsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICBsZXQgYmlnZ2VySW5wdXQgPSB0aGlzLmRvbS5vZmZzZXRXaWR0aCA8IGN0cmwub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmRvbS5zdHlsZS53aWR0aCA9IGJpZ2dlcklucHV0ID8gY3RybC5vZmZzZXRXaWR0aCArICdweCcgOiAnJztcblxuICAgICAgLy8gcHJldmVudCBhbmltYXRpb24gZnJvbSBub3QgcnVubmluZ1xuICAgICAgXy5kZWZlcigoKSA9PiB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKCdwbS0taW5wdXQnKSk7XG5cbiAgICAvLyB2aXNpYmxlXG4gICAgfSBlbHNlIHtcbiAgICAgIFxuICAgICAgLy8gcmVzZXQgZXZlcnl0aGluZ1xuICAgICAgY3RybC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICBjdHJsLmZpcnN0Q2hpbGQudmFsdWUgPSAnJztcbiAgICAgIHRoaXMuaW5wdXRDYWxsYmFjayA9IF8ubm9vcDtcbiAgICAgIHRoaXMuZG9tLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB0aGlzLmRvbS5jbGFzc0xpc3QucmVtb3ZlKCdwbS0taW5wdXQnKTtcbiAgICB9XG4gIH1cblxuICBwb3NpdGlvbihkaXIpIHtcbiAgICB2YXIgb2xkZGlyID0gRElSUkVHLmV4ZWModGhpcy5kb20uY2xhc3NOYW1lKTtcblxuICAgIC8vIG5vIGFyZ3VtZW50czsgcmV0dXJuIGN1cnJlbnQgcG9zaXRpb25cbiAgICBpZiAodW5kZWZpbmVkID09PSBkaXIpIHsgXG4gICAgICByZXR1cm4gb2xkZGlyWzJdIHx8IG51bGw7IFxuICAgIH1cblxuICAgIC8vIHVucmVjb2duaXplZCBkaXJlY3Rpb25cbiAgICBpZiAoIS90b3B8Ym90dG9tfGxlZnR8cmlnaHQvLnRlc3QoZGlyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyByZW1vdmUgb2xkIGRpcmVjdGlvblxuICAgIGlmIChvbGRkaXIpIHtcbiAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5yZW1vdmUob2xkZGlyWzFdKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbmV3IGRpcmVjdGlvblxuICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoJ3BtLS0nICsgZGlyKTtcbiAgICBcbiAgICAvLyBpbnB1dCBpcyBkaXNhYmxlZCBmb3IgbGVmdCBhbmQgcmlnaHQgcG9zaXRpb25lZFxuICAgIGlmICgvbGVmdHxyaWdodC8udGVzdChkaXIpKSB7XG4gICAgICB0aGlzLnRvZ2dsZUlucHV0KGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJ1aWxkKCkge1xuICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb20uY2xhc3NOYW1lID0gJ3BtJztcblxuICAgIC8vIGFkZCBsaXN0IGVsZW1lbnRcbiAgICBkb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKSk7XG4gICAgXG4gICAgLy8gYWRkIGVhY2ggYnV0dG9uIGFuZCBhdHRhdGNoIGV2ZW50c1xuICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKChidG4sIGksIGJ0bnMpID0+IHtcbiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ3BtX19idG4nO1xuXG4gICAgICAvLyBhZGQgc3BlY2lhbCBjbGFzcyB0byBmaXJzdCBhbmQgbGFzdCBidXR0b25cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG1fX2J0bi0tZmlyc3QnKTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gYnRucy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG1fX2J0bi0tbGFzdCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBjdXN0b21pemUgYnV0dG9uXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnRuLmNsYXNzTmFtZSk7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IGJ0bi5jb250ZW50O1xuXG4gICAgICAvLyBkbyBidXR0b24gYWN0aW9uIG9uIGNsaWNrXG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYnRuLmFjdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgLy8gYXBwZW5kIGJ1dHRvbiB0byBsaXN0IGVsZW1lbnRcbiAgICAgIGJ0bi5lbGVtZW50ID0gZG9tLmZpcnN0Q2hpbGRcbiAgICAgICAgLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykpXG4gICAgICAgIC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgIFxuICAgICAgLy8gdG9nZ2xlIGJ1dHRvbidzIGFjdGl2ZSBzdGF0ZVxuICAgICAgYnRuLnRvZ2dsZSA9ICgpID0+IHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBidG4uYWN0aXZlKCkpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBhZGQgaW5wdXQgdG8gbGlzdCBlbGVtZW50XG4gICAgbGV0IGlucHV0ID0gZG9tLmZpcnN0Q2hpbGRcbiAgICAgIC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpKVxuICAgICAgLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykpO1xuXG4gICAgaW5wdXQuY2xhc3NOYW1lID0gJ3BtX19jb250cm9sJztcblxuICAgIC8vIG9uIGVudGVyLCBkbyBpbnB1dCBhY3Rpb25cbiAgICB0aGlzLmlucHV0Q2FsbGJhY2sgPSBfLm5vb3A7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudCA9PiB7XG4gICAgICBpZiAoKGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGUpID09PSAxMykge1xuICAgICAgICB0aGlzLmlucHV0Q2FsbGJhY2soaW5wdXQudmFsdWUpO1xuICAgICAgICB0aGlzLnRvZ2dsZUlucHV0KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGFmdGVyIGlucHV0IHRyYW5zaXRpb25zLCBmb2N1cyBpdFxuICAgIGlucHV0LnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IGlucHV0LmZvY3VzKCkpO1xuICAgIFxuICAgIC8vIGFkZCBjYW5jZWwgZWxlbWVudCB0byBpbnB1dCBjb250YWluZXJcbiAgICBpbnB1dC5wYXJlbnROb2RlXG4gICAgICAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXG4gICAgICAuY2xhc3NOYW1lID0gJ3BtX19jYW5jZWwnO1xuXG4gICAgLy8gY2xvc2UgaW5wdXQgb24gY2FuY2VsXG4gICAgaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9nZ2xlSW5wdXQoZmFsc2UpO1xuICAgICAgICB0aGlzLmNhbmNlbElucHV0KCk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiAodGhpcy5kb20gPSBkb20pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRvclRvb2xiYXI7XG4iLCIvLyBjYWNoZSBzY3JvbGxiYXIgd2lkdGhcbnZhciBzY3JvbGxiYXJXaWR0aDtcblxudmFyIF8gPSB7XG4gIFxuICBzbGljZTogQXJyYXkucHJvdG90eXBlLnNsaWNlLFxuICBrZXlzOiBPYmplY3Qua2V5cyxcblxuICBpc0VsZW1lbnQ6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH0sXG5cbiAgdG9IVE1MOiBmdW5jdGlvbiAoZWxzKSB7XG4gICAgdmFyIGh0bWwsIFxuICAgICAgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgIGVscyA9IGVscy5sZW5ndGggPyBfLnNsaWNlLmNhbGwoZWxzKSA6IFtlbHNdO1xuICAgIFxuICAgIGZvciAobGV0IGVsIG9mIGVscykge1xuICAgICAgdGVtcC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIFxuICAgIGh0bWwgPSB0ZW1wLmlubmVySFRNTDtcbiAgICB0ZW1wID0gbnVsbDtcbiAgICBcbiAgICByZXR1cm4gaHRtbDtcbiAgfSxcblxuICB1bndyYXA6IGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBub2RlLFxuICAgICAgcGFyZW50ID0gZWwucGFyZW50Tm9kZSxcbiAgICAgIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgXG4gICAgd2hpbGUgKChub2RlID0gZWwuZmlyc3RDaGlsZCkpIHtcbiAgICAgIGZyYWcuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfVxuXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShmcmFnLCBlbCk7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcblxuICAgIHJldHVybiBmcmFnO1xuICB9LFxuXG4gIGNsb3Nlc3Q6IGZ1bmN0aW9uIChjaGlsZCwgcGFyZW50KSB7XG4gICAgdmFyIG5vZGU7XG5cbiAgICB3aGlsZSAobm9kZSA9IGNoaWxkLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChub2RlID09PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGdldFRleHROb2RlczogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgbm9kZXMgPSBbXTtcblxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY2hpbGRyZW4gPSBfLnNsaWNlLmNhbGwobm9kZS5jaGlsZE5vZGVzKTtcblxuICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgbm9kZXMucHVzaC5hcHBseShub2RlcywgXy5nZXRUZXh0Tm9kZXMoY2hpbGQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZXM7XG4gIH0sXG5cbiAgc2Nyb2xsYmFyV2lkdGg6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2Nyb2xsYmFyV2lkdGgpIHsgcmV0dXJuIHNjcm9sbGJhcldpZHRoOyB9XG5cbiAgICB2YXIgd2lkdGhOb1Njcm9sbCwgd2lkdGhXaXRoU2Nyb2xsLFxuICAgICAgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgaW5uZXIgPSBvdXRlci5jbG9uZU5vZGUoKTtcblxuICAgIG91dGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIG91dGVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XG5cbiAgICB3aWR0aE5vU2Nyb2xsID0gb3V0ZXIub2Zmc2V0V2lkdGg7XG4gICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuXG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBvdXRlci5hcHBlbmRDaGlsZChpbm5lcik7ICAgICAgICBcblxuICAgIHdpZHRoV2l0aFNjcm9sbCA9IGlubmVyLm9mZnNldFdpZHRoO1xuXG4gICAgb3V0ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdXRlcik7XG5cbiAgICByZXR1cm4gKHNjcm9sbGJhcldpZHRoID0gd2lkdGhOb1Njcm9sbCAtIHdpZHRoV2l0aFNjcm9sbCk7XG4gIH0sXG5cbiAgbm9vcDogZnVuY3Rpb24gKCkge30sXG5cbiAgbm93OiBEYXRlLm5vdyxcblxuICBkZWxheTogZnVuY3Rpb24gKGZuLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBfLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfSwgd2FpdCk7XG4gIH0sXG5cbiAgZGVmZXI6IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBfLmRlbGF5LmFwcGx5KF8sIFtmbiwgMV0uY29uY2F0KF8uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IF87XG4iLCJpbXBvcnQgXyBmcm9tICcuL2hlbHBlcnMnO1xuXG5jbGFzcyBTZWxlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5pbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5pbnN0YW5jZSA9IHRoaXM7XG4gIH1cblxuICBnZXQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIHNhdmUoKSB7XG4gICAgdmFyIHNhdmVkID0gW10sXG4gICAgICByYW5nZSA9IHRoaXMucmFuZ2U7XG5cbiAgICBzYXZlZFswXSA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO1xuICAgIHNhdmVkWzJdID0gdGhpcy5nZXRDYXJldE9mZnNldChzYXZlZFswXSk7XG4gICAgc2F2ZWRbMV0gPSBzYXZlZFsyXSAtIHJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG4gICAgdGhpcy5zYXZlZCA9IHNhdmVkO1xuICB9XG5cbiAgcmVzdG9yZSgpIHtcbiAgICB0aGlzLnNlbGVjdC5hcHBseSh0aGlzLCB0aGlzLnNhdmVkKTtcbiAgfVxuXG4gIGdldFJhbmdlQm91bmRhcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBjb2xsYXBzZVRvRW5kKCkge1xuICAgIHRoaXMuZ2V0KCkuY29sbGFwc2VUb0VuZCgpO1xuICB9XG5cbiAgc2VsZWN0KG5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXQoKSxcbiAgICAgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZShub2RlKTtcblxuICAgIGlmIChzdGFydCAhPT0gdW5kZWZpbmVkICYmIGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdGV4dE5vZGVzID0gXy5nZXRUZXh0Tm9kZXMobm9kZSk7XG4gICAgICBsZXQgZm91bmRTdGFydCA9IGZhbHNlO1xuICAgICAgbGV0IGNoYXJDb3VudCA9IDA7XG4gICAgICBsZXQgZW5kQ2hhckNvdW50O1xuXG4gICAgICBmb3IgKGxldCB0ZXh0Tm9kZSBvZiB0ZXh0Tm9kZXMpIHtcbiAgICAgICAgZW5kQ2hhckNvdW50ID0gY2hhckNvdW50ICsgdGV4dE5vZGUubGVuZ3RoO1xuXG4gICAgICAgIGlmICghZm91bmRTdGFydCAmJiBzdGFydCA+PSBjaGFyQ291bnQgJiZcbiAgICAgICAgICAgIChzdGFydCA8IGVuZENoYXJDb3VudCB8fCBzdGFydCA9PT0gZW5kQ2hhckNvdW50KSkge1xuICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHRleHROb2RlLCBzdGFydCAtIGNoYXJDb3VudCk7XG4gICAgICAgICAgZm91bmRTdGFydCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmRTdGFydCAmJiBlbmQgPD0gZW5kQ2hhckNvdW50KSB7XG4gICAgICAgICAgcmFuZ2Uuc2V0RW5kKHRleHROb2RlLCBlbmQgLSBjaGFyQ291bnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhckNvdW50ID0gZW5kQ2hhckNvdW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICB9XG5cbiAgcmVwbGFjZShjb250ZW50KSB7XG4gICAgdmFyIG5vZGUsIGxhc3ROb2RlLFxuICAgICAgc2VsZWN0aW9uID0gdGhpcy5nZXQoKSxcbiAgICAgIHJhbmdlID0gdGhpcy5yYW5nZSxcbiAgICAgIGV4cGFuZGVkUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCksXG4gICAgICB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgdGVtcC5pbm5lckhUTUwgPSBjb250ZW50O1xuXG4gICAgd2hpbGUgKChub2RlID0gdGVtcC5maXJzdENoaWxkKSkge1xuICAgICAgbGFzdE5vZGUgPSBmcmFnLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cblxuICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgcmFuZ2UuaW5zZXJ0Tm9kZShmcmFnKTtcblxuICAgIGlmIChsYXN0Tm9kZSkge1xuICAgICAgZXhwYW5kZWRSYW5nZS5zZXRFbmRBZnRlcihsYXN0Tm9kZSk7XG4gICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UoZXhwYW5kZWRSYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FyZXRPZmZzZXQobm9kZSkge1xuICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2U7XG5cbiAgICB2YXIgcHJlQ2FyZXRSYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICBwcmVDYXJldFJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcbiAgICBwcmVDYXJldFJhbmdlLnNldEVuZChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7XG5cbiAgICByZXR1cm4gcHJlQ2FyZXRSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgfVxuXG4gIGNvbnRhaW5zKHRhZ05hbWUpIHtcbiAgICB2YXIgdGFnUmVnID0gbmV3IFJlZ0V4cCgnPCcgKyB0YWdOYW1lICsgJyguKj8pPnw8LycgKyB0YWdOYW1lICsgJz4nKTtcbiAgICByZXR1cm4gdGFnUmVnLnRlc3QodGhpcy5odG1sKTtcbiAgfVxuXG4gIGlzV2l0aGluKHRhZ05hbWUsIGxpbWl0Tm9kZSkge1xuICAgIHZhciByZXQgPSBbXSwgXG4gICAgICByYW5nZSA9IHRoaXMucmFuZ2UsXG4gICAgICBzdGFydFBhcmVudCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUsXG4gICAgICBlbmRQYXJlbnQgPSByYW5nZS5lbmRDb250YWluZXIucGFyZW50Tm9kZSxcbiAgICAgIG5vZGUgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAgIC8vIGNvcnJlY3QgYHRhZ05hbWVgXG4gICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcblxuICAgIC8vIGBzdGFydFBhcmVudGAgaGFzIGB0YWdOYW1lYFxuICAgIGlmIChzdGFydFBhcmVudC50YWdOYW1lID09PSB0YWdOYW1lKSB7XG4gICAgICByZXQucHVzaChzdGFydFBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gYGVuZFBhcmVudGAgaXNuJ3QgYHN0YXJ0UGFyZW50YCBhbmQgaXQgaGFzIGB0YWdOYW1lYFxuICAgIGlmIChlbmRQYXJlbnQgIT09IHN0YXJ0UGFyZW50ICYmIGVuZFBhcmVudC50YWdOYW1lID09PSB0YWdOYW1lKSB7XG4gICAgICByZXQucHVzaChlbmRQYXJlbnQpO1xuICAgIH1cblxuICAgIC8vIGlmIGBzdGFydFBhcmVudGAgb3IgYGVuZFBhcmVudGAgbWF0Y2gsIHdlJ3JlIGRvbmVcbiAgICBpZiAocmV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLy8gbGltaXQgdG8gYm9keVxuICAgIGxpbWl0Tm9kZSA9IHVuZGVmaW5lZCA9PT0gbGltaXROb2RlID8gZG9jdW1lbnQuYm9keSA6IGxpbWl0Tm9kZTtcblxuICAgIC8vIGNoZWNrIGVhY2ggYW5jZXN0b3JcbiAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBsaW1pdE5vZGUpIHtcblxuICAgICAgLy8gaWYgdGhlcmUncyBhIG1hdGNoLCByZXR1cm4gd2l0aCBpdFxuICAgICAgaWYgKG5vZGUudGFnTmFtZSAmJiBub2RlLnRhZ05hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgcmV0LnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICB9XG5cbiAgICAvLyBubyBtYXRjaGVzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0IGh0bWwoKSB7XG4gICAgcmV0dXJuIF8udG9IVE1MKHRoaXMucmFuZ2UuY2xvbmVDb250ZW50cygpKTtcbiAgfVxuXG4gIGdldCBpc0NvbGxhcHNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoKS5pc0NvbGxhcHNlZDtcbiAgfVxuXG4gIGdldCByYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoKS5nZXRSYW5nZUF0KDApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==